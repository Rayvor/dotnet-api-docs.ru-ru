<Type Name="IProvideCustomContentState" FullName="System.Windows.Navigation.IProvideCustomContentState">
  <Metadata><Meta Name="ms.openlocfilehash" Value="4ad75c206f5a7317dd4e35ed96bcac1b0e64cf0d" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69446207" /></Metadata><TypeSignature Language="C#" Value="public interface IProvideCustomContentState" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IProvideCustomContentState" />
  <TypeSignature Language="DocId" Value="T:System.Windows.Navigation.IProvideCustomContentState" />
  <TypeSignature Language="VB.NET" Value="Public Interface IProvideCustomContentState" />
  <TypeSignature Language="C++ CLI" Value="public interface class IProvideCustomContentState" />
  <TypeSignature Language="F#" Value="type IProvideCustomContentState = interface" />
  <AssemblyInfo>
    <AssemblyName>PresentationFramework</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="b3e32-101">Реализуется классом, которому требуется добавить пользовательское состояние в запись журнала переходов для содержимого, перед тем как будет выполнен переход от этого содержимого.</span><span class="sxs-lookup"><span data-stu-id="b3e32-101">Implemented by a class that needs to add custom state to the navigation history entry for content before the content is navigated away from.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="b3e32-102"><xref:System.Windows.Navigation.IProvideCustomContentState>позволяет связать элемент пользовательского состояния, реализованного как пользовательский <xref:System.Windows.Navigation.CustomContentState> класс, с записью журнала навигации для содержимого, с которого было выполнено перемещение.</span><span class="sxs-lookup"><span data-stu-id="b3e32-102"><xref:System.Windows.Navigation.IProvideCustomContentState> allows you to associate a piece of custom state, implemented as a custom <xref:System.Windows.Navigation.CustomContentState> class, with the navigation history entry for content that has been navigated away from.</span></span>  
  
 <span data-ttu-id="b3e32-103">Пользовательское состояние также можно связать таким образом, используя следующее:</span><span class="sxs-lookup"><span data-stu-id="b3e32-103">Custom state can also be associated in this way by using the following:</span></span>  
  
-   <span data-ttu-id="b3e32-104">Вызов **аддбаккентри**:</span><span class="sxs-lookup"><span data-stu-id="b3e32-104">Calling **AddBackEntry**:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <span data-ttu-id="b3e32-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="b3e32-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="b3e32-106">Настройка <xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType> при возникновении одного из следующих событий:</span><span class="sxs-lookup"><span data-stu-id="b3e32-106">Setting <xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType> when one of the following events are raised:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Controls.Frame.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
 <span data-ttu-id="b3e32-107">Необходимо реализовать <xref:System.Windows.Navigation.IProvideCustomContentState> при добавлении пользовательского состояния в журнал навигации путем вызова **аддбаккентри**, иначе журнал переходов будет работать неправильно. Рассмотрим следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="b3e32-107">You must implement <xref:System.Windows.Navigation.IProvideCustomContentState> when you add custom state to navigation history by calling **AddBackEntry**, otherwise navigation history will not function correctly; consider the following steps:</span></span>  
  
1.  <span data-ttu-id="b3e32-108">**Аддбаккентри** вызывается для связывания пользовательского состояния с текущим содержимым.</span><span class="sxs-lookup"><span data-stu-id="b3e32-108">**AddBackEntry** is called to associate a custom state with the current content.</span></span>  
  
2.  <span data-ttu-id="b3e32-109">Выполняется переход к записи журнала навигации, и <xref:System.Windows.Navigation.CustomContentState.Replay%2A> метод пользовательского состояния вызывается, а состояние применяется к содержимому.</span><span class="sxs-lookup"><span data-stu-id="b3e32-109">The navigation history entry is navigated back to, and the <xref:System.Windows.Navigation.CustomContentState.Replay%2A> method of the custom state is called, and the state is applied to the content.</span></span>  
  
3.  <span data-ttu-id="b3e32-110">Предыдущее содержимое переходит в журнал переходов вперед.</span><span class="sxs-lookup"><span data-stu-id="b3e32-110">The previous content is navigated to in forward navigation history.</span></span>  
  
4.  <span data-ttu-id="b3e32-111">Выполняется переход к записи журнала навигации, но пользовательское состояние не было сохранены с момента последнего перехода к записи журнала переходов, с которой он связан.</span><span class="sxs-lookup"><span data-stu-id="b3e32-111">The navigation history entry is navigated back to, but the custom state has not been retained since the last time the navigation history entry it was associated with was navigated to.</span></span>  
  
 <span data-ttu-id="b3e32-112">Это поведение по умолчанию, так как состояние, которое изначально записывается в пользовательское состояние, может измениться после добавления в журнал переходов.</span><span class="sxs-lookup"><span data-stu-id="b3e32-112">This is the default behavior because the state that is initially recorded in custom state may change after it was added to navigation history.</span></span> <span data-ttu-id="b3e32-113">Если к объекту пользовательского состояния выполняется переход к и применено его состояние, прежде чем некоторые аспекты состояния изменяются перед переходом к записи в журнале переходов, изменение состояния не может быть отражено в объекте пользовательского состояния.</span><span class="sxs-lookup"><span data-stu-id="b3e32-113">If the custom state object is navigated back to and its state is applied, before some aspect about the state changes before the entry in navigation history is navigated to, the change in state cannot be reflected in the custom state object.</span></span> <span data-ttu-id="b3e32-114">Кроме того <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A> , нельзя явно вызвать, чтобы добавить новый объект пользовательского состояния, отражающий изменения состояния.</span><span class="sxs-lookup"><span data-stu-id="b3e32-114">Furthermore, <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A> can't be explicitly called to add a new custom state object that reflects the state changes.</span></span> <span data-ttu-id="b3e32-115">Следовательно, чтобы гарантировать, что текущее состояние для конкретной навигации всегда сохраняется в журнале навигации, <xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A> вызывается.</span><span class="sxs-lookup"><span data-stu-id="b3e32-115">Consequently, to ensure the current state for a particular navigation is always stored in navigation history, <xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A> is called.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b3e32-116">При хранении сведений в пользовательском состоянии содержимого нельзя хранить ссылки на экземпляр страницы, для которой запоминаются состояния.</span><span class="sxs-lookup"><span data-stu-id="b3e32-116">When you store information in custom content state, you cannot store any references to the instance of the page for which you are remembering state.</span></span> <span data-ttu-id="b3e32-117">Это не [!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)] приводит к освобождению экземпляра страницы и не нарушает назначение поведения журнала навигации по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b3e32-117">This prevents [!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)] from releasing the page instance, and defeats the purpose of the default navigation history behavior.</span></span> <span data-ttu-id="b3e32-118">Если это необходимо сделать, можно использовать <xref:System.Windows.Controls.Page.KeepAlive%2A> вместо него.</span><span class="sxs-lookup"><span data-stu-id="b3e32-118">If you must do this, you might consider using <xref:System.Windows.Controls.Page.KeepAlive%2A> instead.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="GetContentState">
      <MemberSignature Language="C#" Value="public System.Windows.Navigation.CustomContentState GetContentState ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Windows.Navigation.CustomContentState GetContentState() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Windows.Navigation.IProvideCustomContentState.GetContentState" />
      <MemberSignature Language="VB.NET" Value="Public Function GetContentState () As CustomContentState" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Windows::Navigation::CustomContentState ^ GetContentState();" />
      <MemberSignature Language="F#" Value="abstract member GetContentState : unit -&gt; System.Windows.Navigation.CustomContentState" Usage="iProvideCustomContentState.GetContentState " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>PresentationFramework</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Windows.Navigation.CustomContentState</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="b3e32-119">Возвращает экземпляр пользовательского класса состояния, связанный с содержимым в журнале переходов.</span><span class="sxs-lookup"><span data-stu-id="b3e32-119">Returns an instance of a custom state class that is to be associated with content in navigation history.</span></span></summary>
        <returns><span data-ttu-id="b3e32-120">Экземпляр пользовательского класса <see cref="T:System.Windows.Navigation.CustomContentState" />, связанный с содержимым в журнале переходов.</span><span class="sxs-lookup"><span data-stu-id="b3e32-120">An instance of a custom <see cref="T:System.Windows.Navigation.CustomContentState" /> class that is to be associated with content in navigation history.</span></span></returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>
