<Type Name="PersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.PersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="491b051fdd0496ee87c5f9379ff4c54b670c516e" /><Meta Name="ms.sourcegitcommit" Value="0084afad1b3b1cb2c8ad2c142ae3597d08bad4a7" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="10/31/2019" /><Meta Name="ms.locfileid" Value="73391040" /></Metadata><TypeSignature Language="C#" Value="public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit PersonalizationProvider extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class PersonalizationProvider&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class PersonalizationProvider abstract : System::Configuration::Provider::ProviderBase" />
  <TypeSignature Language="F#" Value="type PersonalizationProvider = class&#xA;    inherit ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Реализует базовые функциональные возможности для поставщика личной настройки.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Это абстрактный базовый класс, который определяет требуемые функциональные возможности поставщика персонализации. Поставщик персонализации загружает и сохраняет данные персонализации от имени экземпляра <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization>.  
  
 Базовый класс определяет стандартное поведение для ряда методов; только те методы, которые специально работают с базовым хранилищем данных, помечаются как абстрактные. Это позволяет разработчику написать настраиваемый поставщик для взаимодействия с конкретным хранилищем данных без необходимости повторной реализации стандартных функций, используемых классом <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization>.  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para>Можно получить от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> и предоставить реализации только для абстрактных методов, определенных в этом классе. Абстрактные методы специально связаны с сохранением и загрузкой данных в физическое хранилище данных, а также с администрированием хранилища данных. Пользовательский поставщик должен иметь возможность манипулировать сведениями персонализации способом, который отличает <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> данные от <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> данных. Более того, поставщик должен сегментировать данные персонализации по страницам, а также по приложениям.  
  
Реализации <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> тесно связаны с реализациями <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> поскольку некоторые методы поставщика персонализации возвращают экземпляры классов, производных от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />. Для упрощения разработки пользовательских поставщиков <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> базовый класс включает реализацию логики персонализации, логику сериализации и десериализации, которая используется непосредственно классом <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" />. В результате создание пользовательского поставщика исключительно для работы с другим хранилищем данных требует реализации следующих абстрактных методов: 
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />. Этот метод должен быть способен подсчитать количество строк данных персонализации в базе данных для предоставленных параметров запроса.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />. при указании пути и имени пользователя этот метод загружает в базу данных два больших двоичных объекта (BLOB): один большой двоичный объект для общих данных и один для пользовательских данных. Если указать имя пользователя и путь, то элемент управления <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> не требуется для доступа к сведениям о странице, которые могут предоставить сведения о имени пользователя и пути.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />. при указании пути и имени пользователя этот метод удаляет соответствующую строку в базе данных. Если указать имя пользователя и путь, то элемент управления <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> не требуется для доступа к сведениям о странице, которые могут предоставить сведения о имени пользователя и пути.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />. при указании пути и имени пользователя этот метод сохраняет предоставленный большой двоичный объект в базе данных. Если указать имя пользователя и путь, то элемент управления <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> не требуется для доступа к сведениям о странице, которые могут предоставить сведения о имени пользователя и пути.  
  
Во всех этих методах, если предоставлен только путь, который указывает общие данные персонализации для страницы, на которой выполняется операция. Если методу передаются как путь, так и имя пользователя, то на данные персонализации пользователя для страницы должна быть выполнена операция. В случае <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />можно всегда загружать общие данные для указанного пути, а также при необходимости загружать данные персонализации пользователя для пути, если имя пользователя не <see langword="null" />.  
  
Все прочие абстрактные методы предназначены для использования только в административных приложениях и не используются инфраструктурой веб-части во время выполнения. Пример реализации поставщика персонализации см. в разделе класс <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />.</para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)">Элементы управления веб-части ASP.NET</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)">Общие сведения о персонализации веб-части</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/784d8z92(v=vs.100)">Пошаговое руководство. Реализация персонализации веб-части с помощью пользовательского элемента управления</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178182(v=vs.100)">Персонализация веб-части</related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected PersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; PersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Поскольку это конструктор для абстрактного класса, необходимо переопределить этот метод, чтобы создать экземпляр класса, наследуемого от этого класса.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public abstract string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>При переопределении в производном классе получает или задает имя приложения, настроенного для поставщика.</summary>
        <value>Приложение, настроенное для поставщика личной настройки.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Если имя приложения не указано в файле конфигурации с помощью [элемента providers для персонализации для ASP.NET (схема параметров схемы)](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195) , используется значение свойства <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A>.  
  
> [!CAUTION]
>  Поскольку один экземпляр поставщика персонализации по умолчанию используется для всех запросов, обслуживаемых объектом <xref:System.Web.HttpApplication>, можно одновременно выполнять несколько запросов, каждый из которых пытается установить значение свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A>. Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> не является потокобезопасным для нескольких операций записи, и изменение значения свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> может привести к непредвиденному поведению для нескольких пользователей приложения. Рекомендуется избегать кода, позволяющего пользователям задавать свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A>, если это не требуется. Задание свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> может быть обязательным, например, в административном приложении, которое управляет данными персонализации для нескольких приложений.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSupportedUserCapabilities">
      <MemberSignature Language="C#" Value="protected virtual System.Collections.IList CreateSupportedUserCapabilities ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Collections.IList CreateSupportedUserCapabilities() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateSupportedUserCapabilities () As IList" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Collections::IList ^ CreateSupportedUserCapabilities();" />
      <MemberSignature Language="F#" Value="abstract member CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList&#xA;override this.CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList" Usage="personalizationProvider.CreateSupportedUserCapabilities " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IList</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Возвращает список объектов <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, представляющих набор известных возможностей, используемых набором элементов управления веб-частей.</summary>
        <returns>Объект <see cref="T:System.Collections.IList" />, представляющий набор известных возможностей, используемых набором элементов управления веб-частей.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 В настоящее время этот метод возвращает список, содержащий две возможности: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>. Это возможности по умолчанию, которые могут быть определены в [элементе Authorization для персонализации (схема параметров ASP.NET)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) в элементе [персонализации для элемента WebParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) раздел конфигурации [элемента WebParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) . Если вы решили реализовать пользовательскую инфраструктуру персонализации, вы можете переопределить этот метод и определить собственный набор возможностей пользователя, относящегося к авторизации.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DetermineInitialScope">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, class System.Web.UI.WebControls.WebParts.PersonalizationState loadedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationScope DetermineInitialScope(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::Web::UI::WebControls::WebParts::PersonalizationState ^ loadedState);" />
      <MemberSignature Language="F#" Value="abstract member DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope&#xA;override this.DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope" Usage="personalizationProvider.DetermineInitialScope (webPartManager, loadedState)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationScope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="loadedState" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, который управляет данными персонализации.</param>
        <param name="loadedState">Сведения о состоянии персонализации.</param>
        <summary>Определяет исходную область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающий текущую область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод определяет, следует ли <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> или <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>текущей области, учитывая ссылку на элемент управления <xref:System.Web.UI.WebControls.WebParts.WebPartManager> и сведения о состоянии персонализации, которые уже были загружены ранее в жизненном цикле персонализации. Эта информация используется экземпляром <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> для последующих задач, связанных с персонализацией.  
  
 Для определения области персонализации используются следующие правила.  
  
-   Изначально предполагается, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.  
  
-   Если текущая учетная запись пользователя не прошла проверку подлинности, для области задается значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   Если выполняется проверка подлинности текущей учетной записи пользователя, то дополнительная обработка выполняется в порядке приоритета.  
  
    -   Если страница находится в режиме обратной передачи, запрос страницы содержит сведения об области из предыдущей отрисовки страницы. Если сведения о области указывают на использование области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, то область принимает значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
    -   Если выполняемая на данный момент страница была перенесена на нее с другой страницы (например, если передача управления произошла из-за вызова метода <xref:System.Web.HttpServerUtility.Transfer%2A>; Обратите внимание, что данная проверка не выполняется для межстраничной передачи данных) и, если ранее для выполнения страницы использовался <xref:System.Web.UI.WebControls.WebParts.WebPartManager> экземпляр, для области задается значение свойства `Personalization.Scope` из предыдущего экземпляра <xref:System.Web.UI.WebControls.WebParts.WebPartManager>.  
  
    -   Если предыдущие критерии не выполнены, область вычисляет значение свойства <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> для текущего элемента управления <xref:System.Web.UI.WebControls.WebParts.WebPartManager>.  
  
 После выполнения предыдущих оценок и при вычислении области до <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области происходит следующая обработка:  
  
-   Если у текущей учетной записи пользователя есть функция <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability>, то для области остается значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   Если у текущей учетной записи пользователя нет возможности <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability>, то область сбрасывается до <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.  
  
-   Если результат всех предыдущих оценок области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, этот результат сохраняется как скрытое поле на текущей странице. Это механизм, с помощью которого страница может воспроизводить оценку области во время последующих обратных передач.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> — <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="DetermineUserCapabilities">
      <MemberSignature Language="C#" Value="public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Collections.IDictionary DetermineUserCapabilities(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Collections::IDictionary ^ DetermineUserCapabilities(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary&#xA;override this.DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary" Usage="personalizationProvider.DetermineUserCapabilities webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <summary>Возвращает словарь, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, которые представляют возможности учетной записи текущего пользователя, относящиеся к персонализации.</summary>
        <returns>Объект <see cref="T:System.Collections.IDictionary" />, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, если учетная запись пользователя прошла проверку подлинности, или значение <see langword="null" />, если учетная запись текущего пользователя не прошла проверку подлинности.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Реализация по умолчанию этого метода использует сведения в [элементе Authorization для персонализации для элементов WebPart (схема параметров ASP.NET)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) в [элементе персонализации для WebParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) . элемент конфигурации [элемента WebParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) в файле Machine. config или Web. config для определения разрешений пользователя.  
  
 Возможности в словаре будут членами объекта <xref:System.Collections.IList>, возвращаемого методом <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A>, который в настоящее время включает возможности <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.  
  
- или - 
Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> — <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="abstract member FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int * int -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="personalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, содержащий данные персонализации для запроса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <param name="pageIndex">Место, где начинается выполнение запроса.</param>
        <param name="pageSize">Число возвращаемых записей.</param>
        <param name="totalRecords">Общее число доступных записей.</param>
        <summary>При переопределении в производном классе возвращает коллекцию, содержащую объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />, на основании области и указанных параметров запроса.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" />, содержащий объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для запроса данных персонализации. Производные реализации должны следовать логике, описанной ниже.  
  
 Набор возвращаемых элементов ограничивается параметрами `pageIndex` и `pageSize`, где `pageSize` задает число возвращаемых записей и `pageIndex` задает возвращаемые записи. Например, `pageIndex` 0 и `pageSize` 25 будет возвращать первые 25 вхождений, а `pageIndex` 1 и `pageSize` 25 будут возвращать вхождения 26-50. Если требуется получить все доступные записи, задайте для `pageIndex` значение 0, а `pageSize` — <xref:System.Int32.MaxValue>.  
  
 Объекты, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>, возвращаются в алфавитном порядке и сортируются по сочетанию их <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> и <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> значений свойств в порядке возрастания.  
  
 Этот метод передает подстановочные знаки запроса в базовое хранилище данных. В настоящее время поддержка подстановочных знаков зависит от того, как каждый поставщик обрабатывает такие символы, как звездочка (*), символ процента (%) или знак подчеркивания (_).  
  
 Как правило, для хранилищ данных, совместимых с SQL, можно выполнить поиск по шаблону для частичного пути с подстановочным знаком, который будет отображаться в начале, конце или середине текста строки поиска в свойстве <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>. Например, чтобы найти все пути, начинающиеся с "\~/вдир", свойству <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> будет присвоено значение "\~/вдир%".  
  
 Аналогичным образом, поиск по шаблону частичного имени пользователя может содержать подстановочный знак в любой точке текстовой строки свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>. Например, чтобы найти все имена пользователей, начинающиеся с «John», параметр <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> будет выглядеть следующим образом: «Джон%».  
  
 Применяются следующие ограничения запросов.  
  
-   Если предоставляется только `scope`, а `query` `null` или все свойства `query` возвращают либо `null`, либо значения по умолчанию, то возвращаются все записи, соответствующие указанному параметру `scope`.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> не `null`, то возвращаемые записи также фильтруются по путям, которые соответствуют значению <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> не `null`, то возвращаемые записи также фильтруются по именам пользователей, которые соответствуют значению свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не равно <xref:System.DateTime.MaxValue>, то возвращаемые записи также фильтруются, чтобы возвращались только записи, связанные с неактивными пользователями. Сравнение включает записи, в которых свойство <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньше или равно свойству <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например, код может запросить набор записей о состоянии персонализации, связанных с конкретным именем пользователя в общей области. Так как имена пользователей не связаны с общей информацией, возвращаемая коллекция будет пустой.  
  
 Сочетания параметров, которые могут возвращать непустую коллекцию, включают:  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область в сочетании со свойством <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область в сочетании со значениями для всех свойств <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="abstract member GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="personalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для запроса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <summary>При переопределении в производном классе возвращает количество строк в базовом хранилище данных, которые существуют в указанной области.</summary>
        <returns>Количество строк в базовом хранилище данных, которые существуют для заданного параметра <paramref name="scope" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для получения количества данных персонализации. Производные реализации должны следовать логике, описанной ниже.  
  
 Этот метод передает подстановочные знаки запроса в базовое хранилище данных. В настоящее время поддержка подстановочных знаков зависит от того, как каждый поставщик обрабатывает такие символы, как звездочка (*), символ процента (%) или знак подчеркивания (_).  
  
 Как правило, для хранилищ данных, совместимых с SQL, можно выполнить поиск по шаблону для частичного пути с подстановочным знаком, который будет отображаться в начале, конце или середине текста строки поиска в свойстве <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>. Например, чтобы найти все пути, начинающиеся с "\~/вдир", свойству <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> будет присвоено значение "\~/вдир%".  
  
 Аналогичным образом, поиск по шаблону частичного имени пользователя может содержать подстановочный знак в любой точке текстовой строки свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>. Например, чтобы найти все имена пользователей, начинающиеся с «John», параметр <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> будет выглядеть следующим образом: «Джон%».  
  
 Применяются следующие ограничения запросов.  
  
-   Если предоставляется только `scope`, а `query` `null` или все свойства `query` возвращают либо `null`, либо значения по умолчанию, то учитываются все записи, соответствующие указанному параметру `scope`.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> не `null`, то подсчитанные записи также фильтруются по путям, которые соответствуют значению <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> не `null`, то подсчитанные записи также фильтруются на основе имен пользователей, соответствующих значению свойства <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>.  
  
-   Если свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не равно <xref:System.DateTime.MaxValue>, то подсчитанные записи также фильтруются, чтобы возвращались только записи, связанные с неактивными пользователями. Сравнение включает записи, в которых свойство <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньше или равно свойству <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например, код может запросить число записей о состоянии персонализации, связанных с конкретным именем пользователя в общей области. Поскольку имена пользователей не связаны с общей информацией, возвращаемое значение счетчика будет равняться нулю.  
  
 Сочетания параметров, которые могут возвращать ненулевой счетчик, включают:  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область в сочетании со свойством <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область в сочетании со значениями для всех свойств <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * Byte[] * Byte[] -&gt; unit" Usage="personalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа для их получения.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа для их получения.</param>
        <param name="sharedDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</param>
        <param name="userDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</param>
        <summary>При переопределении в производном классе загружает необработанные данные персонализации из базового хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализующие этот метод, должны использовать параметры `webPartManager`, `path`и `username` в качестве ключей получения. Независимо от того, как данные хранятся в хранилище данных (некоторые хранилища данных могут выполнять Интеллектуальное хранилище), данные персонализации должны возвращаться в виде упакованного набора байтов в двух массивах. Возвращаемые данные должны соответствовать следующим правилам.  
  
-   Данные для области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> всегда должны возвращаться в параметре `sharedDataBlob`.  
  
-   В зависимости от значений ключа <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные возвращаются в параметре `userDataBlob`. Значение, отличное от`null`, для параметра `userName` указывает, что необходимо также извлечь данные <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.  
  
 Поставщик персонализации, производный от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализующий этот метод, может оптимизировать взаимодействие с хранилищем данных, извлекая все данные персонализации в одном цикле обработки, в отличие от получения <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данных в двух разных циклах. прием.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationState ^ LoadPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState&#xA;override this.LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState" Usage="personalizationProvider.LoadPersonalizationState (webPartManager, ignoreCurrentUser)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationState</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="ignoreCurrentUser" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="ignoreCurrentUser">Значение <see cref="T:System.Boolean" />, показывающее, должно ли имя пользователя передаваться поставщику личной настройки.</param>
        <summary>Загружает необработанные данные из базового хранилища данных и преобразует их в объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий данные персонализации.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является основной точкой входа, используемой классом <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> для загрузки данных персонализации. Реализация по умолчанию загружает необработанные данные из базового хранилища данных (функциональность реализована в производных поставщиках), а затем преобразует необработанные данные в экземпляр <xref:System.Web.UI.WebControls.WebParts.PersonalizationState>.  
  
 Если параметр `ignoreCurrentUser` имеет значение `true`, то методу <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> не передается имя пользователя. Поставщик персонализации может интерпретировать это как то, что только состояние персонализации с областью <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> следует извлечь из базового хранилища данных.  
  
 При выполнении метода <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> вызывается метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A>, и существуют три типа ошибок десериализации, которые могут возникнуть при загрузке состояния. При возникновении этих ошибок исключение не возникает, а события ошибок записываются функцией мониторинга работоспособности (сведения о мониторинге работоспособности и доступе к журналам, созданным с помощью этой ошибки см. в разделе [ASP.NET Health Monitoring Overview](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)). Следующие три сценария вызывают события ошибок десериализации для записи в журнал:  
  
-   Сбой попытки десериализовать тип свойства, который использует строку <xref:System.ComponentModel.TypeConverter>.  
  
-   Не удалось выполнить десериализацию типа свойства, использующего двоичную сериализацию.  
  
-   Не удалось выполнить десериализацию типа свойства, так как не удается создать экземпляр типа.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Значение параметра <paramref name="webPartManager" /> — <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.  
  
- или - 
Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="personalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа хранилища данных.</param>
        <summary>При переопределении в производном классе удаляет необработанные данные персонализации из базового хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализующие этот метод, должны использовать параметры `webPartManager`, `path`и `userName` в качестве ключей хранилища. Производные реализации должны изменить хранилище данных таким образом, чтобы данные персонализации для предоставляемых ключей хранилища были фактически удалены. Это можно сделать с помощью производных реализаций, как и для их физического выполнения.  
  
 Производный поставщик персонализации должен иметь возможность отличать данные персонализации для отдельных страниц. Более того, для состояния данной страницы поставщик персонализации должен иметь возможность отличать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данных области. Если указано имя пользователя, не являющегося`null`, операция сброса применяется к области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>; в противном случае операция сброса применяется к области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ResetPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit&#xA;override this.ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit" Usage="personalizationProvider.ResetPersonalizationState webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <summary>Сбрасывает данные персонализации в базовом хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является основной точкой входа, используемой классом <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> для сброса данных персонализации. Реализация по умолчанию использует элемент управления <xref:System.Web.UI.WebControls.WebParts.WebPartManager> для определения пути и имени пользователя для сброса данных. Реализация по умолчанию вызывает метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A>.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Свойство <paramref name="webPartManager" /> имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Объект <paramref name="webPartManager" /> не сопоставлен со страницей.  
  
- или - 
Страница не сопоставлена с выполняющимся запросом <see cref="T:System.Web.HttpRequest" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="abstract member ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="personalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для сброса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="paths">Пути к удаляемым данным персонализации.</param>
        <param name="usernames">Имена пользователей для удаляемых данных персонализации.</param>
        <summary>При переопределении в производном классе удаляет состояние персонализации из базового хранилища данных в зависимости от указанных параметров.</summary>
        <returns>Число удаленных строк.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для удаления данных персонализации. Производные реализации должны следовать логике, описанной ниже.  
  
 Этот метод не поддерживает Поиск подстановочных знаков. Если поставщик персонализации предоставляет данные из хранилища данных, поддерживающего транзакции, этот метод должен выполнять свои операции как единую атомарную транзакцию.  
  
 Допустимы только следующие сочетания параметров:  
  
-   Параметр `scope` задан, а всем другим параметрам присвоено значение `null`. Это сочетание удаляет все веб-части данные персонализации, связанные с областью персонализации, указанной `scope`.  
  
-   Параметр `scope` задан, а параметр `paths` содержит по крайней мере одно значение. Это сочетание удаляет все веб-части данные персонализации для указанного пути или путей в области персонализации, указанной в `scope`.  
  
-   Параметр `scope` имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, параметр `paths` задан и содержит только одно значение, а параметр `usernames` содержит по крайней мере одно значение. Это сочетание удаляет все данные персонализации пользователя веб-части данных для указанного пути, связанного с пользователем или пользователями, содержащимися в `usernames`.  
  
-   Параметр `scope` имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, параметр `paths` имеет значение `null`, а параметр `usernames` содержит по крайней мере одно значение. Это сочетание удаляет все данные персонализации для каждого пользователя веб-части по всем путям, связанным с пользователем или пользователями, содержащимися в `usernames`.  
  
 Любое другое сочетание значений параметров является недопустимым и вызовет исключение <xref:System.ArgumentException>. В частности, следующие два сочетания не допускаются:  
  
-   Параметр `usernames` не может быть указан, если `scope` имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   Параметр `paths` не может содержать более одной записи, если параметр `usernames` не `null`.  
  
 Все значения параметров `paths` и `usernames`, содержащиеся в соответствующих массивах, должны соответствовать следующим правилам проверки. При сбое каких-либо правил проверки для любого члена массива параметров выдается исключение <xref:System.ArgumentException>. Правила проверки:  
  
-   значения `null` не допускаются.  
  
-   Пустая строка ("") не допускается. Перед выполнением проверки на пустую строку необходимо усекать параметры.  
  
-   Параметр `usernames` не может содержать запятые (,).  
  
-   Длина параметра `paths` не может превышать 256 символов для базы данных SQL.  
  
-   Длина параметра `usernames` не может превышать 256 символов для базы данных SQL.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="abstract member ResetUserState : string * DateTime -&gt; int" Usage="personalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path">Путь к удаляемым данным персонализации. Это значение может быть равно <see langword="null" />, но не может быть пустой строкой ("").</param>
        <param name="userInactiveSinceDate">Дата, указывающая время последнего изменения данных персонализации пользователем веб-сайта.</param>
        <summary>При переопределении в производном классе удаляет данные персонализации веб-частей из базового хранилища данных в зависимости от указанных параметров.</summary>
        <returns>Количество строк, удаленных из базового хранилища данных.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для удаления данных персонализации. Обратите внимание, что этот метод влияет только на данные персонализации пользователя, а не на общие данные.  
  
 Производные реализации должны следовать логике, описанной ниже.  
  
-   Параметр `path` не может содержать подстановочные знаки.  
  
-   Если поставщик предоставляет данные из хранилища данных, поддерживающего транзакции, этот метод должен выполнять свои операции в одной атомарной транзакции.  
  
-   Если параметр `path` не является`null`, будут удалены только записи персонализации для отдельных пользователей, связанные с `path`.  
  
-   Только записи персонализации для отдельных пользователей, связанные с пользователями, которые считаются неактивными, так как дата, указанная в параметре `userInactiveSinceDate`, будет удалена. В частности, записи, в которых <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>, удаляются.  
  
-   Если указаны оба параметра, то будут удалены записи, соответствующие обоим ограничениям.  
  
-   Параметр `path` можно `null`.  
  
-   Параметр `path` не может быть пустой строкой. Перед выполнением этой проверки необходимо выполнить усечение.  
  
-   Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не может быть равно `null`.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="personalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа.</param>
        <param name="dataBlob">Массив байт, представляющий сохраняемые данные.</param>
        <summary>При переопределении в производном классе сохраняет необработанные данные персонализации в базовое хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением метода, используемого для сохранения необработанных данных персонализации в базовом хранилище данных.  
  
 В производных реализациях следует использовать параметры `webPartManager`, `path`и `userName` в качестве ключей хранилища. Производный поставщик персонализации должен иметь возможность отличать данные персонализации для отдельных страниц. Более того, для состояния данной страницы поставщик должен иметь возможность отличать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области. Если указано имя пользователя, не являющегося`null`, параметр `dataBlob` находится в области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>. в противном случае предполагается, что параметр `dataBlob` находится в области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SavePersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SavePersonalizationState (state As PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SavePersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationState ^ state);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit&#xA;override this.SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit" Usage="personalizationProvider.SavePersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="state">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий сохраняемые данные персонализации.</param>
        <summary>Сохраняет данные персонализации в хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является основной точкой входа, используемой классом <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> для сохранения данных персонализации.  
  
 Реализация по умолчанию этого метода использует методы внутренней реализации <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> для упаковки данных персонализации в массив байтов. Если результаты этого упаковки создают пустой массив байтов (поскольку извлечение свойства привело к отсутствию данных персонализации), реализация по умолчанию вызывает метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A>. В противном случае реализация по умолчанию вызывает метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A>.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Свойство <paramref name="state" /> имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Сохраняемый объект <paramref name="state" /> имеет тип, отличный от объекта <paramref name="state" />, возвращенного методом <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />.</exception>
      </Docs>
    </Member>
  </Members>
</Type>
