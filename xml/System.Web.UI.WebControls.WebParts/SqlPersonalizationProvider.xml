<Type Name="SqlPersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="fd8266be51fe60444fefde7b9c5ff2e9d67fcaae" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69394758" /></Metadata><TypeSignature Language="C#" Value="public class SqlPersonalizationProvider : System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SqlPersonalizationProvider extends System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public Class SqlPersonalizationProvider&#xA;Inherits PersonalizationProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlPersonalizationProvider : System::Web::UI::WebControls::WebParts::PersonalizationProvider" />
  <TypeSignature Language="F#" Value="type SqlPersonalizationProvider = class&#xA;    inherit PersonalizationProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.WebControls.WebParts.PersonalizationProvider</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Реализует поставщик личной настройки, который использует сервер Microsoft SQL Server.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот класс определяет необходимые функциональные возможности для поставщика персонализации с помощью Microsoft SQL Server. Поставщик персонализации загружает и сохраняет данные персонализации от имени <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляра. Этот класс реализует логику для чтения и записи на компьютерах, на которых выполняется SQL Server, а также реализует все абстрактные методы <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>, определенные в. Дополнительные сведения о поставщиках персонализации см. <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>в разделе.  
  
 Проектирование данных для использования веб-части персонализации с SQL Server зависит от существования двух распространенных таблиц базы данных SQL и их вспомогательных хранимых процедур, которые являются общими для большинства реализаций функций на основе SQL. Эти таблицы и представления устанавливаются и удаляются с помощью следующих сценариев:  
  
-   инсталлпажеперсонализатион. SQL — устанавливает таблицы персонализации, представления и связанные хранимые процедуры.  
  
-   унинсталлпажеперсонализатион. SQL — удаляет таблицы персонализации, представления и связанные хранимые процедуры.  
  
 Важно помнить, что персонализация завершится ошибкой, если веб-приложение не выполняется на уровне <xref:System.Web.AspNetHostingPermissionLevel.Medium> доверия по умолчанию или выше (можно задать пользовательские уровни доверия в файле Web. config `<trust level="" />` с помощью элемента). Классы <xref:System.Web.UI.WebControls.WebParts.PersonalizationAdministration> <xref:System.Web.AspNetHostingPermissionLevel.Low> и <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> проверяют уровень доверия при инициализации. Если приложение настроено для работы на уровне <xref:System.Web.AspNetHostingPermissionLevel.Low>доверия, а поставщик по умолчанию <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> используется для управления данными персонализации приложения, при первом подключении приложения к данным персонализации будет сбой, так как рабочий процесс ASP.NET, <xref:System.Web.AspNetHostingPermissionLevel.Low> выполняющийся в доверии, не имеет разрешений, необходимых для вызова различных классов <xref:System.Data.SqlClient> в пространстве имен.  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)">Элементы управления веб-части ASP.NET</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)">Общие сведения о персонализации веб-части</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/784d8z92(v=vs.100)">Пошаговое руководство. Реализация персонализации веб-части с помощью пользовательского элемента управления</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178182(v=vs.100)">Персонализация веб-части</related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlPersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlPersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Конструктор вызывается методом ASP.NET для создания экземпляра <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> класса, как указано в конфигурации приложения. <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.%23ctor%2A> Этот конструктор не предназначен для использования из кода.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public override string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Получает или задает имя приложения, для которого необходимо сохранять и извлекать данные персонализации.</summary>
        <value>Имя приложения, для которого необходимо сохранять и извлекать данные персонализации. По умолчанию установлено значение свойства <see cref="P:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath" /> для текущего свойства <see cref="P:System.Web.HttpContext.Request" />.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> Свойство используется<xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> классом для группировки сведений о пользователях. Подполняя сведения о пользователе именем приложения, вы можете хранить сведения о нескольких приложениях в одной базе данных, не выполняя конфликтов между повторяющимися именами пользователей. Кроме того, несколько ASP.NET приложений могут использовать одну и ту же пользовательскую базу данных, указав <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> одно и то же значение в свойстве. Это свойство можно задать программно или декларативно в файле конфигурации для веб-приложения, `applicationName` используя атрибут в `<providers>` разделе. <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A>  
  
 Если для `applicationName` атрибута в файле конфигурации веб-приложения не указано значение, то используется значение <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> свойства для первого запроса, сделанного в приложении.  
  
> [!CAUTION]
>  Поскольку один экземпляр поставщика персонализации по умолчанию используется для всех запросов, обслуживаемых <xref:System.Web.HttpApplication> объектом, можно одновременно выполнять несколько запросов и пытаться <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> задать значение свойства. Свойство не является потокобезопасным для нескольких операций записи, и <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> изменение значения свойства может привести к непредвиденному поведению для нескольких пользователей приложения. <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> Рекомендуется избегать кода, чтобы разрешить пользователям задавать свойство, если это <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> не требуется. Примером приложения, в <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> котором может потребоваться задать свойство, является административное приложение, которое управляет данными персонализации для нескольких приложений. Такое приложение должно быть приложением с одним пользователем, а не веб-приложением.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">В качестве значения для этого свойства задана строка, длина которой превышает 256 символов.</exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public override System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="override this.FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int *  -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="sqlPersonalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <param name="pageIndex">Место, где начинается выполнение запроса.</param>
        <param name="pageSize">Число возвращаемых записей.</param>
        <param name="totalRecords">Общее число доступных записей.</param>
        <summary>Возвращает коллекцию, в которой содержится ноль или несколько объектов, созданных на основе <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" /> с учетом указанных области и параметров.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" />, содержащий объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 `pageSize` Набор возвращаемых элементов ограничен параметрами и `pageIndex` , где `pageSize` управляет количеством возвращаемых записей и `pageIndex` определяет возвращаемые записи. Например, значение `pageIndex` 0 и a `pageSize` из 25 будут возвращать первые 25 `pageIndex` вхождений, а значение типа, равное 1 и a `pageSize` , равно 26-50. Если требуется получить все доступные записи, задайте значение `pageIndex` 0 <xref:System.Int32.MaxValue>и `pageSize` .  
  
 Объекты <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>, производные от, возвращаются в алфавитном порядке <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> , <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A>отсортированном по и, и в порядке возрастания.  
  
 Этот метод передает подстановочные знаки запроса в базовое хранилище данных. В настоящее время поддержка подстановочных знаков зависит от того, как каждый поставщик обрабатывает такие символы, как звездочка (*), символ процента (%) или знак подчеркивания (_).  
  
 Как правило, для хранилищ данных, совместимых с SQL, можно выполнить поиск по шаблону для частичного пути с подстановочным знаком, который появляется в начале, конце или середине текста строки поиска в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойстве. Например, чтобы найти все пути, начинающиеся с "\~/аппрут" <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> , свойству будет присвоено значение\~"/аппрут%".  
  
 Аналогичным образом, поиск по шаблону частичного имени пользователя может содержать подстановочный знак в любой точке текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойства. Например, чтобы найти все имена пользователей, начинающиеся с «John», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр будет выглядеть следующим образом: «Джон%».  
  
 Применяются следующие ограничения запросов.  
  
-   Если предоставлен `scope` только параметр, а `query` свойство `null` имеет значение или все свойства `query` возвращаются либо `null` значения по умолчанию, либо все записи, соответствующие `scope` указанному аргументу, возвращаются.  
  
-   Если свойство не `null`имеет значение, возвращаемые записи также фильтруются <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> по путям, которые соответствуют значению свойства. <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>  
  
-   Если свойство не `null`имеет значение, возвращаемые записи также фильтруются по именам <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> пользователей, соответствующим значению свойства. <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>  
  
-   Если свойство не равно, то возвращаемые записи также фильтруются, чтобы возвращались только записи, связанные с неактивными пользователями. <xref:System.DateTime.MaxValue> <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> Сравнение включает записи, в которых <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойству.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например, код может запросить набор записей о состоянии персонализации, связанных с конкретным именем пользователя в общей области. Так как имена пользователей не связаны с общей информацией, возвращаемая коллекция будет пустой.  
  
 Сочетания параметров, которые могут возвращать непустую коллекцию, включают:  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>область в сочетании со значениями для всех или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойств, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> .  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Значение параметра <paramref name="pageIndex" /> меньше нуля.  
  
- или - 
 Значение <paramref name="pageSize" /> не больше нуля.  
  
- или - 
Сумма <paramref name="pageIndex" /> и <paramref name="pageSize" /> больше, чем значение <see cref="F:System.Int32.MaxValue" />.  
  
-или- 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> не равно <see langword="null" /> и является пустой строкой ("") после усечения.  
  
- или - 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.  
  
- или - 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> не равно <see langword="null" /> и является пустой строкой после усечения.  
  
-или- 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является допустимым значением перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public override int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="override this.GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="sqlPersonalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <summary>Возвращает количество строк в основном хранилище данных на основе указанного параметра <paramref name="scope" />.</summary>
        <returns>Количество строк в базовом хранилище данных, которые существуют для заданного параметра <paramref name="scope" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод передает подстановочные знаки запроса в базовое хранилище данных. В настоящее время поддержка подстановочных знаков зависит от того, как каждый поставщик обрабатывает такие символы, как звездочка (*), символ процента (%) или знак подчеркивания (_).  
  
 Как правило, для хранилищ данных, совместимых с SQL, можно выполнить поиск по шаблону для частичного пути с подстановочным знаком, который появляется в начале, конце или середине текста строки поиска в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойстве. Например, чтобы найти все пути, начинающиеся с "\~/аппрут" <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> , свойству будет присвоено значение\~"/аппрут%".  
  
 Аналогичным образом, поиск по шаблону частичного имени пользователя может содержать подстановочный знак в любой точке текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойства. Например, чтобы найти все имена пользователей, начинающиеся с «John», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр будет выглядеть следующим образом: «Джон%».  
  
 Применяются следующие ограничения запросов.  
  
-   Если предоставлен `scope` только параметр, а `query` свойство `null` имеет значение или все свойства `query` возвращаются либо `null` значения по умолчанию, либо все записи, соответствующие `scope` указанному аргументу, возвращаются.  
  
-   Если свойство не `null`имеет значение, возвращаемые записи также фильтруются <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> по путям, которые соответствуют значению свойства. <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>  
  
-   Если значение не `null` <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> равно, возвращаемые записи также фильтруются по именам пользователей, соответствующим значению свойства. <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>  
  
-   Если свойство не равно, то возвращаемые записи также фильтруются, чтобы возвращались только записи, связанные с неактивными пользователями. <xref:System.DateTime.MaxValue> <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> Сравнение включает записи, в которых <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойству.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например, код может запросить число записей о состоянии, связанных с неактивными пользователями в общей области. Поскольку нет концепции неактивных настроек, возвращаемый счетчик будет равняться нулю.  
  
 Сочетания параметров, которые могут возвращать непустую коллекцию, включают:  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>область в сочетании со значениями для всех или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойств, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> .  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> не равно <see langword="null" /> и является пустой строкой ("") после усечения.  
  
- или - 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.  
  
- или - 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> не равно <see langword="null" /> и является пустой строкой после усечения.  
  
- или - 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является допустимым значением перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public override void Initialize (string name, System.Collections.Specialized.NameValueCollection configSettings);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Initialize(string name, class System.Collections.Specialized.NameValueCollection configSettings) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Initialize (name As String, configSettings As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Initialize(System::String ^ name, System::Collections::Specialized::NameValueCollection ^ configSettings);" />
      <MemberSignature Language="F#" Value="override this.Initialize : string * System.Collections.Specialized.NameValueCollection -&gt; unit" Usage="sqlPersonalizationProvider.Initialize (name, configSettings)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="configSettings" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="name">Имя приложения, отображаемое в файле конфигурации.</param>
        <param name="configSettings">Параметры конфигурации для приложения.</param>
        <summary>Реализует процедуры инициализации, которые требуются для поставщика личной настройки сервера Microsoft SQL Server. Этот метод не предназначен для непосредственного использования в коде.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод предоставляет процедуры инициализации для использования персонализации с базой данных SQL и не предназначен для непосредственного использования в коде.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Строка подключения не настроена для поставщика.  
  
-или- 
Строка подключения для поставщика не найдена.  
  
- или - 
Помимо атрибутов, описанных в параметрах конфигурации, в элементе <see langword="&lt;add&gt;" /> поставщика имеются дополнительные атрибуты.  
  
- или - 
Длина имени приложения превышает 256 символов.  
  
- или - 
Домен приложений, в котором находится приложение, работает при уровне доверия ниже <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" />.</exception>
        <exception cref="T:System.ArgumentNullException">Свойство <paramref name="configSettings" /> имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected override void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="override this.LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string *  *  -&gt; unit" Usage="sqlPersonalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, который необходимо использовать в качестве ключа для извлечения.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа для извлечения.</param>
        <param name="sharedDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</param>
        <param name="userDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</param>
        <summary>Загружает данные персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод использует `webPartManager`параметры, `path`и `username` в качестве ключей извлечения. Возвращенные данные содержат:  
  
-   Данные <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> , возвращаемые `sharedDataBlob` в параметре.  
  
-   В зависимости от значений <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> ключа данные возвращаются в параметре.`userDataBlob` Значение параметра, не являющееся <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> значением, указывает, что данные также извлекаются. `userName` `null`  
  
 Объект автоматически обновляет столбец в `aspnet_Users` таблице каждый раз, когда пользовательские данные персонализации загружаются из базы данных в контексте запроса страницы. <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Это поведение позволяет другим ASP.NET функциям использовать <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство при управлении устаревшими записями данных, а также для определения недавних действий пользователя на сайте.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected override void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="override this.ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="sqlPersonalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, который необходимо использовать в качестве ключа для извлечения.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа для извлечения.</param>
        <summary>Удаляет данные персонализации из основного хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization>использует этот метод для удаления данных персонализации из базы данных, когда пользователь веб-сайта выбирает Сброс веб-части данных на странице. Если `username` параметр не имеет`null`значение, данные с <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данными области удаляются; в противном случае данные <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> с областью удаляются.  
  
 Объект автоматически обновляет столбец в `aspnet_Users` таблице каждый раз, когда данные персонализации пользователя удаляются из базы данных в контексте запроса страницы. <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Это поведение позволяет другим ASP.NET функциям использовать <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> значение при управлении устаревшими записями данных, а также определять последние действия пользователей на сайте.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public override int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="override this.ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="sqlPersonalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="paths">Пути для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, которые необходимо удалить.</param>
        <param name="usernames">Имена пользователей для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которые необходимо удалить.</param>
        <summary>Удаляет сведения о состоянии персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <returns>Число удаленных строк.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод не поддерживает подстановочные знаки.  
  
 Допустимы только следующие сочетания параметров:  
  
-   Параметр задан, а всем остальным параметрам `null`присваивается значение. `scope` Это сочетание удаляет все веб-части данные персонализации, связанные с областью персонализации, `scope`указанной в.  
  
-   Параметр задан, `paths` а параметр содержит хотя бы одно значение. `scope` Это сочетание удаляет все веб-части данные персонализации для указанного пути или путей, которые находятся в области `scope`персонализации, заданной в.  
  
-   Параметр имеет <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>значение ,`paths` параметр задан`usernames` и содержит только один путь, а параметр содержит по крайней мере одно значение. `scope` Это сочетание удаляет все данные персонализации пользователя веб-части данных для указанного пути, связанного с пользователем или пользователями, которые содержатся в `usernames`.  
  
-   `scope` Параметр имеет<xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>значение, `paths` параметр — `null`, а`usernames` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные персонализации для каждого пользователя веб-части по всем путям, связанным с пользователем или пользователями, содержащимися в `usernames`.  
  
 Любое другое сочетание значений параметров является недопустимым и вызовет <xref:System.ArgumentException> исключение. Например, следующие два сочетания не допускаются:  
  
-   Параметр не может быть указан, `scope` если параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>. `usernames`  
  
-   Параметр не может содержать более одной записи, `usernames` если параметр не `null`имеет значение. `paths`  
  
 Параметры `paths` и`usernames` , содержащиеся в соответствующих массивах, должны соответствовать следующим правилам проверки. При сбое каких-либо правил проверки для любого члена массива <xref:System.ArgumentException> параметров создается исключение. Правила проверки включают:  
  
-   `null`значения не допускаются.  
  
-   Пустая строка ("") после усечения строки не допускается.  
  
-   Имена пользователей, содержащиеся в `usernames` параметре, не могут содержать запятые.  
  
-   Длина любого пути в `paths` параметре не может быть больше 256 символов.  
  
-   Длина имени любого пользователя в `usernames` параметре не может превышать 256 символов.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Либо параметр <paramref name="paths" />, либо параметр <paramref name="usernames" /> является пустым массивом.  
  
-или- 
Параметры <paramref name="paths" /> и <paramref name="usernames" />, которые содержатся в соответствующих массивах, не соответствуют условиям проверки.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является членом перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public override int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="override this.ResetUserState : string * DateTime -&gt; int" Usage="sqlPersonalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path">Путь к удаляемым данным персонализации. Это значение может быть равно <see langword="null" />, но не может быть пустой строкой ("").</param>
        <param name="userInactiveSinceDate">Дата, когда выполнялись последние действия.</param>
        <summary>Удаляет пользовательские данные персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <returns>Количество строк, удаленных из основного хранилища данных.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Параметры этого метода имеют следующие ограничения.  
  
-   `path` Параметр не может содержать подстановочные знаки.  
  
-   Если параметр не имеет значение`null`, то будут удалены только записи персонализации для отдельных пользователей, `path` связанные с. `path`  
  
-   Только записи персонализации для отдельных пользователей, связанные с пользователями, которые считаются неактивными с момента, `userInactiveSinceDate` когда дата, указанная в параметре, будет удалена. Точное сравнение заключается в удалении записей, в которых <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство меньше или равно значению `userInactiveSinceDate` параметра.  
  
-   Если указаны оба параметра, то будут удалены записи, соответствующие обоим ограничениям.  
  
-   Параметр `path` может иметь `null`значение.  
  
-   `path` Параметр не может быть пустой строкой после усечения.  
  
-   Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не может быть равно `null`.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Параметр <paramref name="path" /> равен пустой строке.  
  
-или- 
Длина пути превышает 256 символов.</exception>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected override void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="override this.SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="sqlPersonalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо сохранить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа.</param>
        <param name="dataBlob">Массив байт, представляющий сохраняемые данные.</param>
        <summary>Сохраняет необработанные данные персонализации в основной базе данных Microsoft SQL Server.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Если указано имя,`null` отличное от имени пользователя, `dataBlob` параметр содержит данные персонализации для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области; в противном случае `dataBlob` предполагается, что содержит данные <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> для области.  
  
 Объект автоматически обновляет столбец в `aspnet_Users` таблице каждый раз, когда пользовательские данные персонализации сохраняются в базе данных в контексте запроса страницы. <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Это поведение позволяет другим ASP.NET функциям использовать <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство при управлении устаревшими записями данных, а также для определения недавних действий пользователя на сайте.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
