<Type Name="DiagnosticSource" FullName="System.Diagnostics.DiagnosticSource">
  <Metadata><Meta Name="ms.openlocfilehash" Value="e4e02866434c5d718f1e5b5791fa4eb7fa1c5428" /><Meta Name="ms.sourcegitcommit" Value="634678f7ccd2928c6b2cf792a301b079b63639af" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="07/26/2019" /><Meta Name="ms.locfileid" Value="68540876" /></Metadata><TypeSignature Language="C#" Value="public abstract class DiagnosticSource" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit DiagnosticSource extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Diagnostics.DiagnosticSource" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class DiagnosticSource" />
  <TypeSignature Language="C++ CLI" Value="public ref class DiagnosticSource abstract" />
  <TypeSignature Language="F#" Value="type DiagnosticSource = class" />
  <AssemblyInfo>
    <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.1</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
    <AssemblyVersion>4.0.4.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="36a27-101">Абстрактный класс, позволяющий инструментировать код для ведения журнала расширенных полезных данных во время производства, которые будут использоваться в инструментированном процессе.</span><span class="sxs-lookup"><span data-stu-id="36a27-101">An abstract class that allows code to be instrumented for production-time logging of rich data payloads for consumption within the process that was instrumented.</span></span></summary>
    <remarks><span data-ttu-id="36a27-102">Дополнительные сведения см. в разделе [DiagnosticSource пользователя](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/DiagnosticSourceUsersGuide.md).</span><span class="sxs-lookup"><span data-stu-id="36a27-102">For more information, see [DiagnosticSource User's Guide](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/DiagnosticSourceUsersGuide.md).</span></span></remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected DiagnosticSource ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; DiagnosticSource();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="IsEnabled">
      <MemberSignature Language="C#" Value="public abstract bool IsEnabled (string name);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool IsEnabled(string name) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.IsEnabled(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function IsEnabled (name As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract bool IsEnabled(System::String ^ name);" />
      <MemberSignature Language="F#" Value="abstract member IsEnabled : string -&gt; bool" Usage="diagnosticSource.IsEnabled name" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="36a27-103">Имя записываемого события.</span><span class="sxs-lookup"><span data-stu-id="36a27-103">The name of the event being written.</span></span></param>
        <summary><span data-ttu-id="36a27-104">Проверяет, включено ли событие уведомления.</span><span class="sxs-lookup"><span data-stu-id="36a27-104">Verifies if the notification event is enabled.</span></span></summary>
        <returns><span data-ttu-id="36a27-105">Значение <see langword="true" />, если событие уведомления включено; в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-105"><see langword="true" /> if the notification event is enabled, <see langword="false" /> otherwise.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[

<span data-ttu-id="36a27-106">При наличии дорогостоящей настройки для уведомления можно вызвать функцию OnEnable перед выполнением этой установки.</span><span class="sxs-lookup"><span data-stu-id="36a27-106">If there is expensive setup for the notification, you can call IsEnabled before performing this setup.</span></span> <span data-ttu-id="36a27-107">Потребители не должны рассчитывать на то, что они только получают уведомления, для которых включено значение «включено».</span><span class="sxs-lookup"><span data-stu-id="36a27-107">Consumers should not assume that they only get notifications for which IsEnabled is true.</span></span> <span data-ttu-id="36a27-108">Однако производителям не обязательно вызывать этот API.</span><span class="sxs-lookup"><span data-stu-id="36a27-108">However, it is optional for producers to call this API.</span></span> <span data-ttu-id="36a27-109">Имя должно совпадать с именем, переданным в <see cref="M:System.Diagnostics.DiagnosticSource.Write(System.String,System.Object)" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-109">The name should be the same as that passed to <see cref="M:System.Diagnostics.DiagnosticSource.Write(System.String,System.Object)" />.</span></span>

           ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsEnabled">
      <MemberSignature Language="C#" Value="public virtual bool IsEnabled (string name, object arg1, object arg2 = null);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool IsEnabled(string name, object arg1, object arg2) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.IsEnabled(System.String,System.Object,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function IsEnabled (name As String, arg1 As Object, Optional arg2 As Object = null) As Boolean" />
      <MemberSignature Language="F#" Value="abstract member IsEnabled : string * obj * obj -&gt; bool&#xA;override this.IsEnabled : string * obj * obj -&gt; bool" Usage="diagnosticSource.IsEnabled (name, arg1, arg2)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
        <Parameter Name="arg1" Type="System.Object" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
        <Parameter Name="arg2" Type="System.Object" Index="2" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="36a27-110">Имя записываемого события.</span><span class="sxs-lookup"><span data-stu-id="36a27-110">The name of the event being written.</span></span></param>
        <param name="arg1"><span data-ttu-id="36a27-111">Объект, представляющий дополнительный контекст для метода IsEnabled.</span><span class="sxs-lookup"><span data-stu-id="36a27-111">An object that represents the additional context for IsEnabled.</span></span> <span data-ttu-id="36a27-112">Объектам-получателям следует ожидать получения значения <see langword="null" />. Это может означать, что производитель вызывал чистый метод IsEnabled(string), чтобы проверить, хочет ли объект-получатель получать уведомления о таких событиях.</span><span class="sxs-lookup"><span data-stu-id="36a27-112">Consumers should expect to receive <see langword="null" /> which may indicate that producer called pure IsEnabled(string) to check if consumer wants to get notifications for such events at all.</span></span> <span data-ttu-id="36a27-113">Исходя из этого, производитель может снова вызвать метод IsEnabled(string, object, object) с контекстом не-<see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-113">Based on that, producer may call IsEnabled(string, object, object) again with non-<see langword="null" /> context.</span></span></param>
        <param name="arg2"><span data-ttu-id="36a27-114">Необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="36a27-114">Optional.</span></span> <span data-ttu-id="36a27-115">Объект, представляющий дополнительный контекст для метода IsEnabled.</span><span class="sxs-lookup"><span data-stu-id="36a27-115">An object that represents the additional context for IsEnabled.</span></span> <span data-ttu-id="36a27-116">По умолчанию: <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-116"><see langword="null" /> by default.</span></span> <span data-ttu-id="36a27-117">Объектам-получателям следует ожидать получения значения <see langword="null" />. Это может означать, что производитель вызвал чистый метод IsEnabled(string) или передал весь необходимый контекст в <paramref name="arg1" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-117">Consumers should expect to receive <see langword="null" /> which may indicate that producer called pure IsEnabled(string) or producer passed all necessary context in <paramref name="arg1" />.</span></span></param>
        <summary><span data-ttu-id="36a27-118">Проверяет, включено ли событие уведомления.</span><span class="sxs-lookup"><span data-stu-id="36a27-118">Verifies it the notification event is enabled.</span></span></summary>
        <returns><span data-ttu-id="36a27-119">Значение <see langword="true" />, если событие уведомления включено; в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-119"><see langword="true" /> if the notification event is enabled, <see langword="false" /> otherwise.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[
          
<span data-ttu-id="36a27-120">При наличии дорогостоящей настройки для уведомления можно вызвать этот метод и предоставить контекст перед выполнением установки.</span><span class="sxs-lookup"><span data-stu-id="36a27-120">If there is expensive setup for the notification, you can call this method and provide context before performing the setup.</span></span>
          
           ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnActivityExport">
      <MemberSignature Language="C#" Value="public virtual void OnActivityExport (System.Diagnostics.Activity activity, object payload);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void OnActivityExport(class System.Diagnostics.Activity activity, object payload) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.OnActivityExport(System.Diagnostics.Activity,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void OnActivityExport(System::Diagnostics::Activity ^ activity, System::Object ^ payload);" />
      <MemberSignature Language="F#" Value="abstract member OnActivityExport : System.Diagnostics.Activity * obj -&gt; unit&#xA;override this.OnActivityExport : System.Diagnostics.Activity * obj -&gt; unit" Usage="diagnosticSource.OnActivityExport (activity, payload)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="activity" Type="System.Diagnostics.Activity" Index="0" FrameworkAlternate="netcore-3.0" />
        <Parameter Name="payload" Type="System.Object" Index="1" FrameworkAlternate="netcore-3.0" />
      </Parameters>
      <Docs>
        <param name="activity">To be added.</param>
        <param name="payload">To be added.</param>
        <summary><span data-ttu-id="36a27-121">Передает состояние действия какому-либо событию или операции, например исходящему HTTP-запросу, который будет выполнен за пределами процесса.</span><span class="sxs-lookup"><span data-stu-id="36a27-121">Transfers state from an activity to some event or operation, such as an outgoing HTTP request, that will occur outside the process.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  

<span data-ttu-id="36a27-122">Если сайт инстументатион находится в расположении, где действия оставляют процесс (например, исходящие HTTP-запросы), этот сайт будет передавать состояние из действия в исходящий запрос.</span><span class="sxs-lookup"><span data-stu-id="36a27-122">If an instumentation site is at a location where activities leave the process (such as outgoing HTTP requests), that site will want to transfer state from the activity to the outgoing request.</span></span>

<span data-ttu-id="36a27-123">В максимально возможностях это должен сделать сайт инструментирования, поскольку существует контракт между <xref:System.Diagnostics.Activity> логикой запросов и аугоинг на сайте инструментирования.</span><span class="sxs-lookup"><span data-stu-id="36a27-123">To the extent possible, this should be done by the instrumenation site, because there is a contract between an <xref:System.Diagnostics.Activity> and the ougoing request logic at the instrumentation site.</span></span>   <span data-ttu-id="36a27-124">Однако сайт инструментирования не может обрабатывать политику (например, следует ли отключать или записывать сведения о действиях в старом формате по соображениям совместимости).</span><span class="sxs-lookup"><span data-stu-id="36a27-124">However, the instrumenation site can't handle policy (for example, whether activity information should be disabled or written in an older format for compatibility reasons).</span></span>
<span data-ttu-id="36a27-125">Для этого узел инструментирования должен выполнить обратный вызов к системе ведения журнала и попросить его разрешить политику.</span><span class="sxs-lookup"><span data-stu-id="36a27-125">For this, the instrumentation site needs to call back out to the logging system and ask it to resolve policy.</span></span> <span data-ttu-id="36a27-126">Это назначение `OnActivityExport` метода.</span><span class="sxs-lookup"><span data-stu-id="36a27-126">This is the purpose of the `OnActivityExport` method.</span></span>

<span data-ttu-id="36a27-127">Метод получает, <xref:System.Diagnostics.Activity> а также объект полезных данных, представляющий исходящий запрос. `OnActivityExport`</span><span class="sxs-lookup"><span data-stu-id="36a27-127">The `OnActivityExport` method is given the <xref:System.Diagnostics.Activity> as well as a payload object that represents the outgoing request.</span></span> <span data-ttu-id="36a27-128">Затем <xref:System.Diagnostics.DiagnosticSource> подписчик может обновить исходящий запрос перед его отправкой.</span><span class="sxs-lookup"><span data-stu-id="36a27-128">A <xref:System.Diagnostics.DiagnosticSource> subscriber then has the ability to update the outgoing request before it is sent.</span></span>
 
<span data-ttu-id="36a27-129">Обратите внимание, что этот метод редко используется на сайтах инструментирования (только сайты, находящиеся на исходящих границах процесса).</span><span class="sxs-lookup"><span data-stu-id="36a27-129">Note that this method is rarely used at instrumentation sites (only those sites that are on an outgoing boundary of the process).</span></span>   <span data-ttu-id="36a27-130">Более того, обычно это политика по умолчанию, которую выполняет сайт инструментирования (например, для перемещения всех состояний действий в определенном исходящем соглашении), скорее всего, будет хорошо.</span><span class="sxs-lookup"><span data-stu-id="36a27-130">Moreover, typically the default policy that the instrumenation site performs (for example, to transfer all activity state in a particular outgoing convention) is likely to be fine.</span></span> <span data-ttu-id="36a27-131">Этот метод предназначен только для случаев, когда это является проблемой.</span><span class="sxs-lookup"><span data-stu-id="36a27-131">This method is only for cases where that is a problem.</span></span> <span data-ttu-id="36a27-132">Таким образом, этот метод следует использовать крайне редко, и в основном он используется для `OnActivityImport` симетри с и будущего подтверждения.</span><span class="sxs-lookup"><span data-stu-id="36a27-132">Thus, this method should be used very rarely and is mostly here for symetry with `OnActivityImport` and future-proofing.</span></span>

<span data-ttu-id="36a27-133">Обратите `payload` внимание, что <xref:System.Object> здесь вводится как здесь, но каждый конкретный сайт и подписчик инструментирования должны иметь информацию о типе полезных данных и, таким образом, привести и декодировать их при необходимости.</span><span class="sxs-lookup"><span data-stu-id="36a27-133">Note that `payload` is typed as an <xref:System.Object> here, but any particular instrumentation site and subscriber should know the type of the payload and thus cast and decode it if necessary.</span></span>

         ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnActivityImport">
      <MemberSignature Language="C#" Value="public virtual void OnActivityImport (System.Diagnostics.Activity activity, object payload);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void OnActivityImport(class System.Diagnostics.Activity activity, object payload) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.OnActivityImport(System.Diagnostics.Activity,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void OnActivityImport(System::Diagnostics::Activity ^ activity, System::Object ^ payload);" />
      <MemberSignature Language="F#" Value="abstract member OnActivityImport : System.Diagnostics.Activity * obj -&gt; unit&#xA;override this.OnActivityImport : System.Diagnostics.Activity * obj -&gt; unit" Usage="diagnosticSource.OnActivityImport (activity, payload)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="activity" Type="System.Diagnostics.Activity" Index="0" FrameworkAlternate="netcore-3.0" />
        <Parameter Name="payload" Type="System.Object" Index="1" FrameworkAlternate="netcore-3.0" />
      </Parameters>
      <Docs>
        <param name="activity"><span data-ttu-id="36a27-134">Действие, на которое влияет внешнее событие.</span><span class="sxs-lookup"><span data-stu-id="36a27-134">The activity affected by an external event.</span></span></param>
        <param name="payload"><span data-ttu-id="36a27-135">Полезные данные, представляющие входящий запрос.</span><span class="sxs-lookup"><span data-stu-id="36a27-135">A payload that represents the incoming request.</span></span></param>
        <summary><span data-ttu-id="36a27-136">Передает состояние действию из какого-либо события или операции, например входящего запроса, который был выполнен за пределами процесса.</span><span class="sxs-lookup"><span data-stu-id="36a27-136">Transfers state to an activity from some event or operation, such as an incoming request, that occurred outside the process.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  

<span data-ttu-id="36a27-137">Если сайт инстументатион создает новое действие в ответ на какое-либо событие за пределами процесса (например, запрос HTTP), `OnActivityImport` метод позволяет этому сайту создавать новое действие и передавать состояние из входящего запроса в оборот.</span><span class="sxs-lookup"><span data-stu-id="36a27-137">If an instumentation site creates a new activity in response to some event outside the process, such as an incomming HTTP request), the `OnActivityImport` method allows that site will want to create a new activity and transfer state from the incoming request to the activity.</span></span> 

<span data-ttu-id="36a27-138">В такой степени это должно осуществляться с помощью сайта инструментирования, поскольку существует контракт между <xref:System.Diagnostics.Activity> и логикой запроса на сайте инструментирования.</span><span class="sxs-lookup"><span data-stu-id="36a27-138">To the extent possible, this should be done by the instrumentation site, because there is a contract between the <xref:System.Diagnostics.Activity> and the incomming request logic at the instrumentation site.</span></span>   <span data-ttu-id="36a27-139">Однако сайт инструментирования не может управлять политикой.</span><span class="sxs-lookup"><span data-stu-id="36a27-139">However, the instrumentation site can't handle policy.</span></span> <span data-ttu-id="36a27-140">(Например, если выборка выполняется, точно какие запросы следует выборке?) В таких случаях узел инструментария должен выполнить обратный вызов к системе ведения журнала и попросить его разрешить политику (например, определить, следует ли задать бит выборки для действия).</span><span class="sxs-lookup"><span data-stu-id="36a27-140">(For example, if sampling is done, exactly which requests should be sampled?) In these cases, the instrumentation site needs to call back out to the logging system and ask it to resolve policy (for example, to decide if the activity's "sampling" bit should be set).</span></span> <span data-ttu-id="36a27-141">Это назначение `OnActivityImport` метода.</span><span class="sxs-lookup"><span data-stu-id="36a27-141">This is the purpose of the `OnActivityImport` method.</span></span> <span data-ttu-id="36a27-142">Ему предоставляется действие, а также объект полезных данных, представляющий запрос.</span><span class="sxs-lookup"><span data-stu-id="36a27-142">It is given the activity as well as a payload object that represents the incomming request.</span></span> <span data-ttu-id="36a27-143"><xref:System.Diagnostics.DiagnosticSource> После этого подписчики смогут обновлять это действие по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="36a27-143">The subscribers to the <xref:System.Diagnostics.DiagnosticSource> then have the opportunity to update this activity as desired.</span></span> 

<span data-ttu-id="36a27-144">Этот метод редко используется на сайтах инструментирования (только сайты, находящиеся на границе процесса), а сайт инструметатион реализует определенную политику по умолчанию (это действие задается каким- *либо* образом), поэтому нет необходимости переопределять этот метод, если Эта политика по умолчанию подходит.</span><span class="sxs-lookup"><span data-stu-id="36a27-144">This method is rarely used at instrumentation sites (only those sites that are on the boundary of the process), and the instrumetation site implements some default policy (it sets the activity in *some* way), and so it is not necessary to override this method if that default policy is fine.</span></span> <span data-ttu-id="36a27-145">Иными словами, этот метод следует переопределить в редких (но часто важных) случаях.</span><span class="sxs-lookup"><span data-stu-id="36a27-145">In other words, this method should be overridden in very rare (but often important) cases.</span></span>

<span data-ttu-id="36a27-146">Обратите `payload` внимание, что <xref:System.Object> вводится здесь, но любой конкретный сайт и подписчик инструментирования будут иметь известный тип полезных данных и, таким образом, привести и декодировать их при необходимости.</span><span class="sxs-lookup"><span data-stu-id="36a27-146">Note that `payload` is typed as <xref:System.Object> here, but any particular instrumentation site and subscriber will know the type of the payload and thus cast and decode it if necessary.</span></span>

         ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="StartActivity">
      <MemberSignature Language="C#" Value="public System.Diagnostics.Activity StartActivity (System.Diagnostics.Activity activity, object args);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Diagnostics.Activity StartActivity(class System.Diagnostics.Activity activity, object args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.StartActivity(System.Diagnostics.Activity,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Diagnostics::Activity ^ StartActivity(System::Diagnostics::Activity ^ activity, System::Object ^ args);" />
      <MemberSignature Language="F#" Value="member this.StartActivity : System.Diagnostics.Activity * obj -&gt; System.Diagnostics.Activity" Usage="diagnosticSource.StartActivity (activity, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.Activity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="activity" Type="System.Diagnostics.Activity" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
        <Parameter Name="args" Type="System.Object" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
      </Parameters>
      <Docs>
        <param name="activity"><span data-ttu-id="36a27-147">Подлежащий запуску класс <see cref="T:System.Diagnostics.Activity" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-147">The <see cref="T:System.Diagnostics.Activity" /> to be started.</span></span></param>
        <param name="args"><span data-ttu-id="36a27-148">Объект, представляющий значение, которое передается в виде полезных данных для события.</span><span class="sxs-lookup"><span data-stu-id="36a27-148">An object that represent the value being passed as a payload for the event.</span></span></param>
        <summary><span data-ttu-id="36a27-149">Запускает класс <see cref="T:System.Diagnostics.Activity" /> и записывает событие запуска.</span><span class="sxs-lookup"><span data-stu-id="36a27-149">Starts an <see cref="T:System.Diagnostics.Activity" /> and writes a start event.</span></span></summary>
        <returns><span data-ttu-id="36a27-150">Запущенное действие для удобного связывания.</span><span class="sxs-lookup"><span data-stu-id="36a27-150">The started activity for convenient chaining.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[
           
<span data-ttu-id="36a27-151">Описывает логическую операцию, ее контекст и родительскую связь; текущий <xref:System.Diagnostics.Activity> поток проходит через обработку операции. <xref:System.Diagnostics.Activity></span><span class="sxs-lookup"><span data-stu-id="36a27-151">The <xref:System.Diagnostics.Activity> describes the logical operation, its context, and parent relation; the current <xref:System.Diagnostics.Activity> flows through the operation processing.</span></span>

<span data-ttu-id="36a27-152">Этот метод запускает заданный <xref:System.Diagnostics.Activity>объект, сохраняет глобальную <xref:System.Diagnostics.Activity.Parent?displayProperty=nameWithType> <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> операцию и действие для <xref:System.Diagnostics.Activity>заданного и уведомляет потребителей о том, <xref:System.Diagnostics.Activity> что был запущен новый.</span><span class="sxs-lookup"><span data-stu-id="36a27-152">This method starts the given <xref:System.Diagnostics.Activity>, maintains a global <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> and <xref:System.Diagnostics.Activity.Parent?displayProperty=nameWithType> activity for the given <xref:System.Diagnostics.Activity>, and notifies consumers that a new <xref:System.Diagnostics.Activity> was started.</span></span> <span data-ttu-id="36a27-153">Потребители могут получить <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> доступ к для добавления контекста и (или) расширения телеметрии.</span><span class="sxs-lookup"><span data-stu-id="36a27-153">Consumers can access <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> to add context and/or augment telemetry.</span></span>

<span data-ttu-id="36a27-154">Производители могут передавать дополнительные сведения потребителю в полезных данных.</span><span class="sxs-lookup"><span data-stu-id="36a27-154">Producers may pass additional details to the consumer in the payload.</span></span>

           ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="StopActivity">
      <MemberSignature Language="C#" Value="public void StopActivity (System.Diagnostics.Activity activity, object args);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void StopActivity(class System.Diagnostics.Activity activity, object args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.StopActivity(System.Diagnostics.Activity,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void StopActivity(System::Diagnostics::Activity ^ activity, System::Object ^ args);" />
      <MemberSignature Language="F#" Value="member this.StopActivity : System.Diagnostics.Activity * obj -&gt; unit" Usage="diagnosticSource.StopActivity (activity, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="activity" Type="System.Diagnostics.Activity" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
        <Parameter Name="args" Type="System.Object" Index="1" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0" />
      </Parameters>
      <Docs>
        <param name="activity"><span data-ttu-id="36a27-155">Подлежащее остановке действие.</span><span class="sxs-lookup"><span data-stu-id="36a27-155">The activity to be stopped.</span></span></param>
        <param name="args"><span data-ttu-id="36a27-156">Объект, представляющий значение, переданное в виде полезных данных для события.</span><span class="sxs-lookup"><span data-stu-id="36a27-156">An object that represents the value passed as a payload for the event.</span></span></param>
        <summary><span data-ttu-id="36a27-157">Останавливает данный класс <see cref="T:System.Diagnostics.Activity" />, поддерживает глобальное действие <see cref="P:System.Diagnostics.Activity.Current" /> и уведомляет объекты-получатели об остановке класса <see cref="T:System.Diagnostics.Activity" />.</span><span class="sxs-lookup"><span data-stu-id="36a27-157">Stops the given <see cref="T:System.Diagnostics.Activity" />, maintains the global <see cref="P:System.Diagnostics.Activity.Current" /> activity, and notifies consumers that the <see cref="T:System.Diagnostics.Activity" /> was stopped.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  

<span data-ttu-id="36a27-158">Производители могут передавать дополнительные сведения потребителю в полезных данных.</span><span class="sxs-lookup"><span data-stu-id="36a27-158">Producers may pass additional details to the consumer in the payload.</span></span>

<span data-ttu-id="36a27-159">Потребители могут получить <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> доступ к для добавления контекста и (или) расширения телеметрии.</span><span class="sxs-lookup"><span data-stu-id="36a27-159">Consumers can access <xref:System.Diagnostics.Activity.Current?displayProperty=nameWithType> to add context and/or augment telemetry.</span></span>


         ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Write">
      <MemberSignature Language="C#" Value="public abstract void Write (string name, object value);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Write(string name, object value) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.DiagnosticSource.Write(System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub Write (name As String, value As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void Write(System::String ^ name, System::Object ^ value);" />
      <MemberSignature Language="F#" Value="abstract member Write : string * obj -&gt; unit" Usage="diagnosticSource.Write (name, value)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.DiagnosticSource</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.1</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
        <AssemblyVersion>4.0.4.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="value" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="36a27-160">Имя записываемого события.</span><span class="sxs-lookup"><span data-stu-id="36a27-160">The name of the event being written.</span></span></param>
        <param name="value"><span data-ttu-id="36a27-161">Объект, представляющий значение, которое передается в виде полезных данных для события.</span><span class="sxs-lookup"><span data-stu-id="36a27-161">An object that represents the value being passed as a payload for the event.</span></span> <span data-ttu-id="36a27-162">Как правило, это анонимный тип, который содержит несколько вложенных значений.</span><span class="sxs-lookup"><span data-stu-id="36a27-162">This is often an anonymous type which contains several sub-values.</span></span></param>
        <summary><span data-ttu-id="36a27-163">Обеспечивает универсальный способ ведения журнала сложных полезных данных.</span><span class="sxs-lookup"><span data-stu-id="36a27-163">Provides a generic way of logging complex payloads.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  

<span data-ttu-id="36a27-164">Каждому уведомлению присваивается имя, которое идентифицирует его, а также объект (обычно анонимный тип), предоставляющий произвольную информацию для передачи в уведомление.</span><span class="sxs-lookup"><span data-stu-id="36a27-164">Each notification is given a name that identifies it, as well as an object (typically an anonymous type) that provides arbitrary information to pass to the notification.</span></span>  

<span data-ttu-id="36a27-165">`name`должно быть кратким.</span><span class="sxs-lookup"><span data-stu-id="36a27-165">`name` should be short.</span></span> <span data-ttu-id="36a27-166">Не используйте полное имя, если нет необходимости избегать неоднозначности, поскольку `name` должны быть глобально уникальными.</span><span class="sxs-lookup"><span data-stu-id="36a27-166">Don't use a fully qualified name unless you have to to avoid ambiguity, since `name` must be globally unique.</span></span> <span data-ttu-id="36a27-167">Как правило, *componentName. EventName*, где *componentName* и *EventName* являются строками меньше 10 символов, являются хорошей компромиссом.</span><span class="sxs-lookup"><span data-stu-id="36a27-167">Typically, *componentName.eventName*, where *componentName* and *eventName* are strings less than 10 characters, are a good compromise.</span></span>

<span data-ttu-id="36a27-168">Имена уведомлений не должны содержать `.` точек, так как имена компонентов содержат точки, и для них они могут приводить к неоднозначности.</span><span class="sxs-lookup"><span data-stu-id="36a27-168">Notification names should not have `.` in them because component names have dots, and for them both to have dots leads to ambiguity.</span></span> <span data-ttu-id="36a27-169">Мы рекомендуем использовать `_` вместо него.</span><span class="sxs-lookup"><span data-stu-id="36a27-169">We suggest that you use `_` instead.</span></span>

<span data-ttu-id="36a27-170">Предположим, что прослушиватели будут использовать префикс строки для фильтрации групп.</span><span class="sxs-lookup"><span data-stu-id="36a27-170">Assume that listeners will use string prefixing to filter groups.</span></span> <span data-ttu-id="36a27-171">Поэтому рекомендуется иметь иерархию имен компонентов.</span><span class="sxs-lookup"><span data-stu-id="36a27-171">Therefore, having a hierarchy of component names is a good practice.</span></span>

         ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>