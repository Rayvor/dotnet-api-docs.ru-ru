<Type Name="ISinglePhaseNotification" FullName="System.Transactions.ISinglePhaseNotification">
  <Metadata><Meta Name="ms.openlocfilehash" Value="f13b0caf65ecf4e05e4337f4c80db32326a93a36" /><Meta Name="ms.sourcegitcommit" Value="8ae9a18b248625c8e1851e607c00346a64849587" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="12/17/2019" /><Meta Name="ms.locfileid" Value="75114204" /></Metadata><TypeSignature Language="C#" Value="public interface ISinglePhaseNotification : System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract ISinglePhaseNotification implements class System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.ISinglePhaseNotification" />
  <TypeSignature Language="VB.NET" Value="Public Interface ISinglePhaseNotification&#xA;Implements IEnlistmentNotification" />
  <TypeSignature Language="C++ CLI" Value="public interface class ISinglePhaseNotification : System::Transactions::IEnlistmentNotification" />
  <TypeSignature Language="F#" Value="type ISinglePhaseNotification = interface&#xA;    interface IEnlistmentNotification" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Transactions.IEnlistmentNotification</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary><span data-ttu-id="fb4e3-101">Описывает объект ресурса, который поддерживает оптимизацию однофазной фиксации для участия в транзакции.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-101">Describes a resource object that supports single phase commit optimization to participate in a transaction.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fb4e3-102">Следует отметить, что даже если диспетчер ресурсов реализует этот интерфейс для поддержки оптимизации однофазной фиксации, он не гарантирует, что он получит один этап фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-102">You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit.</span></span> <span data-ttu-id="fb4e3-103">Диспетчер транзакций по-прежнему может отправлять уведомления о двухфазной фиксации в два этапа.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-103">The transaction manager can still send two phase commit notifications instead.</span></span>  
  
 <span data-ttu-id="fb4e3-104">Чтобы прикрепить диспетчер ресурсов как участника транзакции, вызовите метод <xref:System.Transactions.Transaction.EnlistVolatile%2A> или метод <xref:System.Transactions.Transaction.EnlistDurable%2A> класса <xref:System.Transactions.Transaction>.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-104">To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class.</span></span> <span data-ttu-id="fb4e3-105">В частности, параметр `EnlistmentOptions` должен равняться <xref:System.Transactions.EnlistmentOptions.None>, чтобы обеспечить выполнение одного этапа.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-105">Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed.</span></span> <span data-ttu-id="fb4e3-106">Если по ошибке установлено значение <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, то однофазная фиксация не выполняется.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-106">If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.</span></span>  
  
 <span data-ttu-id="fb4e3-107">Поскольку интерфейс <xref:System.Transactions.ISinglePhaseNotification> является производным от интерфейса <xref:System.Transactions.IEnlistmentNotification>, диспетчер ресурсов также должен реализовать все методы второго этапа для уведомлений о двухфазной фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-107">Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.</span></span>  <span data-ttu-id="fb4e3-108">Диспетчер транзакций определяет, используется ли для этого диспетчера ресурсов две фазы фиксации или оптимизация однофазной фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-108">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="fb4e3-109">Однако реализация этого интерфейса предоставляет диспетчеру ресурсов возможность использовать преимущества оптимизации, когда она доступна.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-109">However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.</span></span>  
  
 <span data-ttu-id="fb4e3-110">Если используется оптимизация и диспетчер транзакций вызывает метод <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> прикрепленного ресурса, диспетчер ресурсов должен ответить на этот вызов, используя различные методы класса <xref:System.Transactions.SinglePhaseEnlistment> для информирования диспетчера транзакций о том, что транзакция должна быть зафиксирована или отменена.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-110">If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Transactions.IEnlistmentNotification" />
  </Docs>
  <Members>
    <Member MemberName="SinglePhaseCommit">
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment) cil managed" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="F#" Value="abstract member SinglePhaseCommit : System.Transactions.SinglePhaseEnlistment -&gt; unit" Usage="iSinglePhaseNotification.SinglePhaseCommit singlePhaseEnlistment" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment enlistment) cil managed" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Sub SinglePhaseCommit (enlistment As SinglePhaseEnlistment)" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="F#" Value="abstract member SinglePhaseCommit : System.Transactions.SinglePhaseEnlistment -&gt; unit" Usage="iSinglePhaseNotification.SinglePhaseCommit enlistment" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="singlePhaseEnlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netcore-3.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
        <Parameter Name="enlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="singlePhaseEnlistment"><span data-ttu-id="fb4e3-111">Объект <see cref="T:System.Transactions.SinglePhaseEnlistment" />, используемый для передачи отклика диспетчеру транзакций.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-111">A <see cref="T:System.Transactions.SinglePhaseEnlistment" /> used to send a response to the transaction manager.</span></span></param>
        <param name="enlistment"><span data-ttu-id="fb4e3-112">Объект <see cref="T:System.Transactions.SinglePhaseEnlistment" />, используемый для передачи отклика диспетчеру транзакций.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-112">A <see cref="T:System.Transactions.SinglePhaseEnlistment" /> used to send a response to the transaction manager.</span></span></param>
        <summary><span data-ttu-id="fb4e3-113">Представляет реализацию диспетчером ресурсов функции обратного вызова для оптимизации однофазной фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-113">Represents the resource manager's implementation of the callback for the single phase commit optimization.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fb4e3-114">Диспетчер транзакций определяет, используется ли для этого диспетчера ресурсов две фазы фиксации или оптимизация однофазной фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-114">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="fb4e3-115">Дополнительные сведения об одном фазе и двухфазной фиксации см. [в разделе фиксация транзакции в однофазном и многофазном](https://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d)состоянии.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-115">For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](https://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).</span></span>  
  
 <span data-ttu-id="fb4e3-116">Таким образом, при таком зачислении диспетчера ресурсов вызывается либо метод <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A>, либо методы фиксации двух фаз, определенные в интерфейсе <xref:System.Transactions.IEnlistmentNotification>.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-116">Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in the <xref:System.Transactions.IEnlistmentNotification> interface are called.</span></span>  
  
 <span data-ttu-id="fb4e3-117">Реализация этого метода должна вызывать либо метод <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>, либо метод <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> параметра `singlePhaseEnlistment`, чтобы указать, следует ли зафиксировать или откатить транзакцию.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-117">Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back.</span></span>  
  
 <span data-ttu-id="fb4e3-118">Диспетчер транзакций вызывает этот метод, если имеется только одно переменное прикрепление, которое поддерживает однофазную фиксацию, или если имеется ноль или более переменных прикрепления и одно устойчивое прикрепление.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-118">The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment.</span></span> <span data-ttu-id="fb4e3-119">В последнем случае временные прикрепления получают <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> уведомления о двухфазной фиксации, а единственный устойчивый связующий объект получает однофазное уведомление о фиксации.</span><span class="sxs-lookup"><span data-stu-id="fb4e3-119">In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
