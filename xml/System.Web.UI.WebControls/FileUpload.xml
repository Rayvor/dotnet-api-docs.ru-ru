<Type Name="FileUpload" FullName="System.Web.UI.WebControls.FileUpload">
  <Metadata><Meta Name="ms.openlocfilehash" Value="29976c50aa2e70e1adcd3ba21e2c26c7b684fa9e" /><Meta Name="ms.sourcegitcommit" Value="634678f7ccd2928c6b2cf792a301b079b63639af" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="07/26/2019" /><Meta Name="ms.locfileid" Value="68542515" /></Metadata><TypeSignature Language="C#" Value="public class FileUpload : System.Web.UI.WebControls.WebControl" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit FileUpload extends System.Web.UI.WebControls.WebControl" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.FileUpload" />
  <TypeSignature Language="VB.NET" Value="Public Class FileUpload&#xA;Inherits WebControl" />
  <TypeSignature Language="C++ CLI" Value="public ref class FileUpload : System::Web::UI::WebControls::WebControl" />
  <TypeSignature Language="F#" Value="type FileUpload = class&#xA;    inherit WebControl" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.WebControls.WebControl</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.ComponentModel.Designer("System.Web.UI.Design.WebControls.PreviewControlDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.Web.UI.ControlValueProperty("FileBytes")</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.Web.UI.ValidationProperty("FileName")</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
      <AttributeName>System.ComponentModel.Designer("System.Web.UI.Design.WebControls.PreviewControlDesigner, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="e3063-101">Отображает элемент управления типа текстового поля и кнопку обзора, позволяя пользователю выбрать файл для загрузки на сервер.</span><span class="sxs-lookup"><span data-stu-id="e3063-101">Displays a text box control and a browse button that enable users to select a file to upload to the server.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-102">В этом разделе.</span><span class="sxs-lookup"><span data-stu-id="e3063-102">In this topic:</span></span>  
  
-   [<span data-ttu-id="e3063-103">Введение</span><span class="sxs-lookup"><span data-stu-id="e3063-103">Introduction</span></span>](#introduction)  
  
-   [<span data-ttu-id="e3063-104">Сохранение отправленных файлов</span><span class="sxs-lookup"><span data-stu-id="e3063-104">Saving Uploaded Files</span></span>](#saving_uploaded_files)  
  
-   [<span data-ttu-id="e3063-105">Вопросы безопасности</span><span class="sxs-lookup"><span data-stu-id="e3063-105">Security Considerations</span></span>](#security_considerations)  
  
-   [<span data-ttu-id="e3063-106">Ограничения памяти</span><span class="sxs-lookup"><span data-stu-id="e3063-106">Memory Limitations</span></span>](#memory_limitations)  
  
-   [<span data-ttu-id="e3063-107">Использование элемента управления FileUpload с элементом управления UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="e3063-107">Using the FileUpload Control with the UpdatePanel Control</span></span>](#using_the_FileUpload_Control_with_the_UpdatePanel_control)  
  
-   [<span data-ttu-id="e3063-108">Декларативный синтаксис</span><span class="sxs-lookup"><span data-stu-id="e3063-108">Declarative Syntax</span></span>](#DeclarativeSyntax)  
  
<a name="introduction"></a>   
## <a name="introduction"></a><span data-ttu-id="e3063-109">Вступление</span><span class="sxs-lookup"><span data-stu-id="e3063-109">Introduction</span></span>  
 <span data-ttu-id="e3063-110"><xref:System.Web.UI.WebControls.FileUpload> Класс отображает элемент управления "текстовое поле" и кнопку "Обзор", которая позволяет пользователям выбрать файл на клиенте и передать его на веб-сервер.</span><span class="sxs-lookup"><span data-stu-id="e3063-110">The <xref:System.Web.UI.WebControls.FileUpload> class displays a text box control and a browse button that enable users to select a file on the client and upload it to the Web server.</span></span> <span data-ttu-id="e3063-111">Пользователь указывает файл для передачи, вводя полный путь к файлу на локальном компьютере (например, **к:\мифилес\тестфиле.ткст**) в текстовом поле элемента управления.</span><span class="sxs-lookup"><span data-stu-id="e3063-111">The user specifies the file to upload by entering the full path of the file on the local computer (for example, **C:\MyFiles\TestFile.txt**) in the text box of the control.</span></span> <span data-ttu-id="e3063-112">Кроме того, пользователь может выбрать файл, нажав кнопку « **Обзор** », а затем находясь в диалоговом окне « **Выбор файла** ».</span><span class="sxs-lookup"><span data-stu-id="e3063-112">Alternately, the user can select the file by clicking the **Browse** button, and then locating it in the **Choose File** dialog box.</span></span>  
  
 <span data-ttu-id="e3063-113">Используйте свойство, чтобы получить имя файла на клиенте для передачи с <xref:System.Web.UI.WebControls.FileUpload> помощью элемента управления. <xref:System.Web.UI.WebControls.FileUpload.FileName%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-113">Use the <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> property to get the name of a file on a client to upload by using the <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-114">Имя файла, возвращаемого этим свойством, не включает путь к файлу на клиенте.</span><span class="sxs-lookup"><span data-stu-id="e3063-114">The file name that this property returns does not include the path of the file on the client.</span></span>  
  
 <span data-ttu-id="e3063-115"><xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> Свойство<xref:System.IO.Stream> получает объект, указывающий на файл для передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-115">The <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property gets a <xref:System.IO.Stream> object that points to a file to upload.</span></span> <span data-ttu-id="e3063-116">Это свойство используется для доступа к содержимому файла в виде байтов.</span><span class="sxs-lookup"><span data-stu-id="e3063-116">Use this property to access the contents of the file as bytes.</span></span> <span data-ttu-id="e3063-117">Например, можно использовать <xref:System.IO.Stream> объект, возвращаемый <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> свойством, для чтения содержимого файла в виде байтов и сохранения их в массиве байтов.</span><span class="sxs-lookup"><span data-stu-id="e3063-117">For example, you can use the <xref:System.IO.Stream> object that is returned by the <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property to read the contents of the file as bytes and store them in a byte array.</span></span> <span data-ttu-id="e3063-118">Кроме того, можно использовать <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> свойство для извлечения всех байтов в файле.</span><span class="sxs-lookup"><span data-stu-id="e3063-118">Alternatively, you can use the <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> property to retrieve all the bytes in the file.</span></span>  
  
 <span data-ttu-id="e3063-119">Свойство получает базовый <xref:System.Web.HttpPostedFile> объект для отправляемого файла. <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-119">The <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property gets the underlying <xref:System.Web.HttpPostedFile> object for the file to upload.</span></span> <span data-ttu-id="e3063-120">Это свойство можно использовать для доступа к дополнительным свойствам файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-120">You can use this property to access additional properties on the file.</span></span> <span data-ttu-id="e3063-121"><xref:System.Web.HttpPostedFile.ContentLength%2A> Свойство получает длину файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-121">The <xref:System.Web.HttpPostedFile.ContentLength%2A> property gets the length of the file.</span></span> <span data-ttu-id="e3063-122"><xref:System.Web.HttpPostedFile.ContentType%2A> Свойство возвращает тип MIME содержимого файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-122">The <xref:System.Web.HttpPostedFile.ContentType%2A> property gets the MIME content type of the file.</span></span> <span data-ttu-id="e3063-123">Кроме того <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> , можно использовать свойство для <xref:System.Web.HttpPostedFile.FileName%2A> доступа к свойству, <xref:System.Web.HttpPostedFile.InputStream%2A> свойству и <xref:System.Web.HttpPostedFile.SaveAs%2A> методу.</span><span class="sxs-lookup"><span data-stu-id="e3063-123">In addition, you can use the <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property to access the <xref:System.Web.HttpPostedFile.FileName%2A> property, the <xref:System.Web.HttpPostedFile.InputStream%2A> property, and the <xref:System.Web.HttpPostedFile.SaveAs%2A> method.</span></span> <span data-ttu-id="e3063-124">Тем не менее те же функциональные возможности обеспечиваются <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> свойством <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> , свойством и <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> методом.</span><span class="sxs-lookup"><span data-stu-id="e3063-124">However, the same functionality is provided by the <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> property, the <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property, and the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method.</span></span>  
  
<a name="saving_uploaded_files"></a>   
## <a name="saving-uploaded-files"></a><span data-ttu-id="e3063-125">Сохранение отправленных файлов</span><span class="sxs-lookup"><span data-stu-id="e3063-125">Saving Uploaded Files</span></span>  
 <span data-ttu-id="e3063-126"><xref:System.Web.UI.WebControls.FileUpload> Элемент управления не сохраняет файл на сервере автоматически после того, как пользователь выберет файл для отправки.</span><span class="sxs-lookup"><span data-stu-id="e3063-126">The <xref:System.Web.UI.WebControls.FileUpload> control does not automatically save a file to the server after the user selects the file to upload.</span></span> <span data-ttu-id="e3063-127">Необходимо явно предоставить элемент управления или механизм, чтобы разрешить пользователю отправлять указанный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-127">You must explicitly provide a control or mechanism to allow the user to submit the specified file.</span></span> <span data-ttu-id="e3063-128">Например, можно указать кнопку, которую пользователь нажимает для отправки файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-128">For example, you can provide a button that the user clicks to upload the file.</span></span> <span data-ttu-id="e3063-129">Код, который вы пишете для сохранения указанного файла, должен вызывать <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод, который сохраняет содержимое файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-129">The code that you write to save the specified file should call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method, which saves the contents of a file to a specified path on the server.</span></span> <span data-ttu-id="e3063-130">Как правило, <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод вызывается в методе обработки событий для события, которое вызывает обратную передачу на сервер.</span><span class="sxs-lookup"><span data-stu-id="e3063-130">Typically, the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called in an event-handling method for an event that raises a post back to the server.</span></span> <span data-ttu-id="e3063-131">Например, если вы представите кнопку для отправки файла, можно включить код для сохранения файла в методе обработки событий для события щелчка.</span><span class="sxs-lookup"><span data-stu-id="e3063-131">For example, if you provide a button to submit a file, you could include the code to save the file inside the event-handling method for the click event.</span></span>  
  
 <span data-ttu-id="e3063-132">Перед вызовом <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метода для сохранения файла на сервере <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> используйте <xref:System.Web.UI.WebControls.FileUpload> свойство, чтобы убедиться, что элемент управления содержит файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-132">Before calling the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method to save the file to the server, use the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> property to verify that the <xref:System.Web.UI.WebControls.FileUpload> control contains a file.</span></span> <span data-ttu-id="e3063-133"><xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> Если возвращает `true`, вызовите <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="e3063-133">If the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> returns `true`, call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method.</span></span> <span data-ttu-id="e3063-134">Если она возвращает `false`, отобразите пользователю сообщение, указывающее, что элемент управления не содержит файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-134">If it returns `false`, display a message to the user indicating that the control does not contain a file.</span></span> <span data-ttu-id="e3063-135">Не проверяйте <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> свойство, чтобы определить, существует ли файл для отправки, так как по умолчанию это свойство содержит 0 байт.</span><span class="sxs-lookup"><span data-stu-id="e3063-135">Do not check the <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property to determine whether a file to upload exists because, by default, this property contains 0 bytes.</span></span> <span data-ttu-id="e3063-136">В результате, даже если <xref:System.Web.UI.WebControls.FileUpload> элемент управления пуст <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> , свойство возвращает значение, отличное от NULL.</span><span class="sxs-lookup"><span data-stu-id="e3063-136">As a result, even when the <xref:System.Web.UI.WebControls.FileUpload> control is blank, the <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property returns a non-null value.</span></span>  
  
<a name="security_considerations"></a>   
## <a name="security-considerations"></a><span data-ttu-id="e3063-137">Вопросы безопасности</span><span class="sxs-lookup"><span data-stu-id="e3063-137">Security Considerations</span></span>  
 <span data-ttu-id="e3063-138">При вызове <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метода необходимо указать полный путь к каталогу, в котором будет сохранен переданный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-138">When you call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method, you must specify the full path of the directory in which to save the uploaded file.</span></span> <span data-ttu-id="e3063-139">Если путь не указан явным образом в коде приложения, то при попытке пользователя отправить файл возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="e3063-139">If you do not explicitly specify a path in your application code, an exception is thrown when a user attempts to upload a file.</span></span> <span data-ttu-id="e3063-140">Такое поведение помогает защитить файлы на сервере, предотвращая возможность записи пользователей в произвольные расположения в структуре каталогов приложения, а также запрета доступа к конфиденциальным корневым каталогам.</span><span class="sxs-lookup"><span data-stu-id="e3063-140">This behavior helps keep the files on the server secure by preventing users from being able to write to arbitrary locations in your application's directory structure, as well as preventing access to sensitive root directories.</span></span>  
  
 <span data-ttu-id="e3063-141"><xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> Метод записывает отправленный файл в указанный каталог.</span><span class="sxs-lookup"><span data-stu-id="e3063-141">The <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method writes the uploaded file to the specified directory.</span></span> <span data-ttu-id="e3063-142">Таким образом, приложение ASP.NET должно иметь доступ на запись к каталогу на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-142">Therefore, the ASP.NET application must have write access to the directory on the server.</span></span> <span data-ttu-id="e3063-143">Существует два способа, которым приложение может получить доступ для записи.</span><span class="sxs-lookup"><span data-stu-id="e3063-143">There are two ways that the application can get write access.</span></span> <span data-ttu-id="e3063-144">Можно явно предоставить доступ на запись для учетной записи, под которой выполняется приложение, в каталоге, в который будут сохранены отправленные файлы.</span><span class="sxs-lookup"><span data-stu-id="e3063-144">You can explicitly grant write access to the account under which the application is running, in the directory in which the uploaded files will be saved.</span></span> <span data-ttu-id="e3063-145">Кроме того, можно увеличить уровень доверия, предоставляемый приложению ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e3063-145">Alternatively, you can increase the level of trust that is granted to the ASP.NET application.</span></span> <span data-ttu-id="e3063-146">Чтобы получить доступ на запись к каталогу, в котором будет выполняться приложение, приложению необходимо предоставить <xref:System.Web.AspNetHostingPermission> объект с уровнем доверия, равным <xref:System.Web.AspNetHostingPermissionLevel.Medium?displayProperty=nameWithType> значению.</span><span class="sxs-lookup"><span data-stu-id="e3063-146">To get write access to the executing directory for the application, the application must be granted the <xref:System.Web.AspNetHostingPermission> object with the trust level set to the <xref:System.Web.AspNetHostingPermissionLevel.Medium?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="e3063-147">Увеличение уровня доверия увеличивает доступ приложения к ресурсам на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-147">Increasing the level of trust increases the application's access to resources on the server.</span></span> <span data-ttu-id="e3063-148">Обратите внимание, что этот подход не является безопасным, так как злоумышленник, получивший контроль над приложением, также сможет работать с этим уровнем доверия.</span><span class="sxs-lookup"><span data-stu-id="e3063-148">Note that this is not a secure approach, because a malicious user who gains control of your application will also be able to run under this higher level of trust.</span></span> <span data-ttu-id="e3063-149">Рекомендуется запускать приложение ASP.NET в контексте пользователя с минимальными привилегиями, необходимыми для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-149">It is a best practice to run an ASP.NET application in the context of a user with the minimum privileges that are required for the application to run.</span></span> <span data-ttu-id="e3063-150">Дополнительные сведения о безопасности в ASP.NET приложениях см. в разделе [основные рекомендации по безопасности для веб-приложений](https://msdn.microsoft.com/library/3eeeee9e-b09f-4c7f-8ce5-d9ca1f9322ad) и [ASP.NET уровни доверия и файлы политик](https://msdn.microsoft.com/library/f897c794-10d3-414c-86b7-59b66564bbf1).</span><span class="sxs-lookup"><span data-stu-id="e3063-150">For more information about security in ASP.NET applications, see [Basic Security Practices for Web Applications](https://msdn.microsoft.com/library/3eeeee9e-b09f-4c7f-8ce5-d9ca1f9322ad) and [ASP.NET Trust Levels and Policy Files](https://msdn.microsoft.com/library/f897c794-10d3-414c-86b7-59b66564bbf1).</span></span>  
  
<a name="memory_limitations"></a>   
## <a name="memory-limitations"></a><span data-ttu-id="e3063-151">Ограничения памяти</span><span class="sxs-lookup"><span data-stu-id="e3063-151">Memory Limitations</span></span>  
 <span data-ttu-id="e3063-152">Одним из способов защиты от атак типа «отказ в обслуживании» является ограничение размера файлов, которые могут быть переданы с помощью <xref:System.Web.UI.WebControls.FileUpload> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="e3063-152">One way to guard against denial of service attacks is to limit the size of the files that can be uploaded by using the <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-153">Необходимо задать предельный размер, подходящий для типов файлов, которые предполагается передать.</span><span class="sxs-lookup"><span data-stu-id="e3063-153">You should set a size limit that is appropriate for the types of files that you expect to be uploaded.</span></span> <span data-ttu-id="e3063-154">По умолчанию предельный размер составляет 4096 килобайт (КБ) или 4 мегабайта (МБ).</span><span class="sxs-lookup"><span data-stu-id="e3063-154">The default size limit is 4096 kilobytes (KB), or 4 megabytes (MB).</span></span> <span data-ttu-id="e3063-155">Можно разрешить передачу файлов большего размера, задав `maxRequestLength` атрибут элемента [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) .</span><span class="sxs-lookup"><span data-stu-id="e3063-155">You can allow larger files to be uploaded by setting the `maxRequestLength` attribute of the [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) element.</span></span> <span data-ttu-id="e3063-156">Чтобы увеличить максимально допустимый размер файла для всего приложения, установите `maxRequestLength` атрибут в файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="e3063-156">To increase the maximum allowable file size for the entire application, set the `maxRequestLength` attribute in the Web.config file.</span></span> <span data-ttu-id="e3063-157">Чтобы увеличить максимально допустимый размер файла для указанной страницы, установите `maxRequestLength` атрибут `location` внутри элемента в файле Web. config. Пример см. в разделе [элемент Location (схема параметров ASP.NET)](https://msdn.microsoft.com/library/922ef7d5-da38-4661-b1c6-5b9e5ceda1d5).</span><span class="sxs-lookup"><span data-stu-id="e3063-157">To increase the maximum allowable file size for a specified page, set the `maxRequestLength` attribute inside the `location` element in Web.config. For an example, see [location Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/922ef7d5-da38-4661-b1c6-5b9e5ceda1d5).</span></span>  
  
 <span data-ttu-id="e3063-158">При отправке больших файлов пользователь может также получить следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="e3063-158">When uploading large files, a user might also receive the following error message:</span></span>  
  
 `aspnet_wp.exe (PID: 1520) was recycled because memory consumption exceeded 460 MB (60 percent of available RAM).`  
  
 <span data-ttu-id="e3063-159">Если пользователи столкнулись с этим сообщением об ошибке, увеличьте `memoryLimit` значение атрибута в элементе [processModel](https://msdn.microsoft.com/library/4b8fe20e-74c8-4566-b72c-ce5f83c8e32d) элемента файл Web. config для приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-159">If your users encounter this error message, increase the value of the `memoryLimit` attribute in the [processModel](https://msdn.microsoft.com/library/4b8fe20e-74c8-4566-b72c-ce5f83c8e32d) of element the Web.config file for the application.</span></span> <span data-ttu-id="e3063-160">`memoryLimit` Атрибут задает максимальный объем памяти, который может использовать рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="e3063-160">The `memoryLimit` attribute specifies the maximum amount of memory that a worker process can use.</span></span> <span data-ttu-id="e3063-161">Если рабочий процесс превышает `memoryLimit` сумму, создается новый процесс для его замены, а все текущие запросы перенаправляются новому процессу.</span><span class="sxs-lookup"><span data-stu-id="e3063-161">If the worker process exceeds the `memoryLimit` amount, a new process is created to replace it, and all current requests are reassigned to the new process.</span></span>  
  
 <span data-ttu-id="e3063-162">Чтобы управлять тем, будет ли файл для отправки временно храниться в памяти или на сервере во время обработки запроса, установите `requestLengthDiskThreshold` атрибут элемента [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) .</span><span class="sxs-lookup"><span data-stu-id="e3063-162">To control whether the file to upload is temporarily stored in memory or on the server while the request is being processed, set the `requestLengthDiskThreshold` attribute of the [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) element.</span></span> <span data-ttu-id="e3063-163">Этот атрибут позволяет управлять размером буфера входного потока.</span><span class="sxs-lookup"><span data-stu-id="e3063-163">This attribute enables you to manage the size of the input stream buffer.</span></span> <span data-ttu-id="e3063-164">Значение по умолчанию — 256 байт.</span><span class="sxs-lookup"><span data-stu-id="e3063-164">The default is 256 bytes.</span></span> <span data-ttu-id="e3063-165">Указанное значение не должно превышать значение, указанное для `maxRequestLength` атрибута.</span><span class="sxs-lookup"><span data-stu-id="e3063-165">The value that you specify should not exceed the value that you specify for the `maxRequestLength` attribute.</span></span>  
  
<a name="using_the_FileUpload_Control_with_the_UpdatePanel_control"></a>   
## <a name="using-the-fileupload-control-with-the-updatepanel-control"></a><span data-ttu-id="e3063-166">Использование элемента управления FileUpload с элементом управления UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="e3063-166">Using the FileUpload Control with the UpdatePanel Control</span></span>  
 <span data-ttu-id="e3063-167">Этот <xref:System.Web.UI.WebControls.FileUpload> элемент управления предназначен для использования только в сценариях обратной передачи, а не в сценариях асинхронной обратной передачи при частичной отрисовке страницы.</span><span class="sxs-lookup"><span data-stu-id="e3063-167">The <xref:System.Web.UI.WebControls.FileUpload> control is designed to be used only in postback scenarios and not in asynchronous postback scenarios during partial-page rendering.</span></span> <span data-ttu-id="e3063-168">При использовании <xref:System.Web.UI.WebControls.FileUpload> элемента управления <xref:System.Web.UI.UpdatePanel> внутри элемента управления файл должен быть передан с помощью элемента управления, который является <xref:System.Web.UI.PostBackTrigger> объектом для панели.</span><span class="sxs-lookup"><span data-stu-id="e3063-168">When you use a <xref:System.Web.UI.WebControls.FileUpload> control inside an <xref:System.Web.UI.UpdatePanel> control, the file must be uploaded by using a control that is a <xref:System.Web.UI.PostBackTrigger> object for the panel.</span></span> <span data-ttu-id="e3063-169"><xref:System.Web.UI.UpdatePanel>элементы управления используются для обновления выбранных областей страницы вместо обновления всей страницы с помощью обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-169"><xref:System.Web.UI.UpdatePanel> controls are used to update selected regions of a page instead of updating the whole page with a postback.</span></span> <span data-ttu-id="e3063-170">Дополнительные сведения см. в разделе [Общие сведения об элементе управления UpdatePanel](https://msdn.microsoft.com/library/29a2265d-9674-4c19-b70e-e5560ee9689a) и [Общие сведения о частичной отрисовке страниц](https://msdn.microsoft.com/library/5c12736d-d9e9-464a-9388-3fe0f9f49e49).</span><span class="sxs-lookup"><span data-stu-id="e3063-170">For more information, see [UpdatePanel Control Overview](https://msdn.microsoft.com/library/29a2265d-9674-4c19-b70e-e5560ee9689a) and [Partial-Page Rendering Overview](https://msdn.microsoft.com/library/5c12736d-d9e9-464a-9388-3fe0f9f49e49).</span></span>  
  
<a name="DeclarativeSyntax"></a>   
## <a name="declarative-syntax"></a><span data-ttu-id="e3063-171">Декларативный синтаксис</span><span class="sxs-lookup"><span data-stu-id="e3063-171">Declarative Syntax</span></span>  
  
```  
<asp:FileUpload  
    AccessKey="string"  
    BackColor="color name|#dddddd"  
    BorderColor="color name|#dddddd"  
    BorderStyle="NotSet|None|Dotted|Dashed|Solid|Double|Groove|Ridge|  
        Inset|Outset"  
    BorderWidth="size"  
    CssClass="string"  
    Enabled="True|False"  
    EnableTheming="True|False"  
    EnableViewState="True|False"  
    Font-Bold="True|False"  
    Font-Italic="True|False"  
    Font-Names="string"  
    Font-Overline="True|False"  
    Font-Size="string|Smaller|Larger|XX-Small|X-Small|Small|Medium|  
        Large|X-Large|XX-Large"  
    Font-Strikeout="True|False"  
    Font-Underline="True|False"  
    ForeColor="color name|#dddddd"  
    Height="size"  
    ID="string"  
    OnDataBinding="DataBinding event handler"  
    OnDisposed="Disposed event handler"  
    OnInit="Init event handler"  
    OnLoad="Load event handler"  
    OnPreRender="PreRender event handler"  
    OnUnload="Unload event handler"  
    runat="server"  
    SkinID="string"  
    Style="string"  
    TabIndex="integer"  
    ToolTip="string"  
    Visible="True|False"  
    Width="size"  
/>  
```  
  
   
  
## Examples  
 <span data-ttu-id="e3063-172">Для этого раздела доступен проект веб-сайта Visual Studio с исходным кодом: [Скачайте](https://go.microsoft.com/fwlink/?LinkId=191897).</span><span class="sxs-lookup"><span data-stu-id="e3063-172">A Visual Studio Web site project with source code is available to accompany this topic: [Download](https://go.microsoft.com/fwlink/?LinkId=191897).</span></span>  
  
 <span data-ttu-id="e3063-173">Этот раздел содержит следующие четыре примера.</span><span class="sxs-lookup"><span data-stu-id="e3063-173">This section contains the following four examples:</span></span>  
  
-   <span data-ttu-id="e3063-174">В первом примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по пути, указанному в коде.</span><span class="sxs-lookup"><span data-stu-id="e3063-174">The first example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a path that is specified in code.</span></span>  
  
-   <span data-ttu-id="e3063-175">Во втором примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы в указанном каталоге в файловой системе для приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-175">The second example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a specified directory in the file system for the application.</span></span>  
  
-   <span data-ttu-id="e3063-176">В третьем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по указанному пути и ограничивающий размер файла, который может быть передан.</span><span class="sxs-lookup"><span data-stu-id="e3063-176">The third example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a specified path and limits the size of the file that can be uploaded.</span></span>  
  
-   <span data-ttu-id="e3063-177">В четвертом примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по указанному пути и допускающий передачу только файлов с расширениями doc или xls.</span><span class="sxs-lookup"><span data-stu-id="e3063-177">The fourth example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a specified path and allows only files that have the .doc or .xls file name extensions to be uploaded.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="e3063-178">В этих примерах демонстрируется базовый синтаксис <xref:System.Web.UI.WebControls.FileUpload> для элемента управления, но они не демонстрируют всю необходимую проверку на наличие ошибок, которая должна быть завершена перед сохранением файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-178">These examples demonstrate the basic syntax for the <xref:System.Web.UI.WebControls.FileUpload> control, but they do not demonstrate all the necessary error checking that should be completed before to saving the file.</span></span> <span data-ttu-id="e3063-179">Более полный пример содержится в разделе <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A>.</span><span class="sxs-lookup"><span data-stu-id="e3063-179">For a more complete example, see <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A>.</span></span>  
  
 <span data-ttu-id="e3063-180">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по пути, указанному в коде.</span><span class="sxs-lookup"><span data-stu-id="e3063-180">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a path that is specified in code.</span></span> <span data-ttu-id="e3063-181"><xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> Метод вызывается для сохранения файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-181">The <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called to save the file to the specified path on the server.</span></span>  
  
 [!code-aspx-csharp[FileUploadClass1#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadClass1/cs/fileuploadclass1cs.aspx#1)]
 [!code-aspx-vb[FileUploadClass1#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadClass1/VB/fileuploadclass1vb.aspx#1)]  
  
 <span data-ttu-id="e3063-182">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы в указанном каталоге в файловой системе для приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-182">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a specified directory in the file system for the application.</span></span> <span data-ttu-id="e3063-183"><xref:System.Web.HttpRequest.PhysicalApplicationPath%2A?displayProperty=nameWithType> Свойство используется для получения физического пути файловой системы корневого каталога для выполняющегося серверного приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-183">The <xref:System.Web.HttpRequest.PhysicalApplicationPath%2A?displayProperty=nameWithType> property is used to get the physical file system path of the root directory for the currently executing server application.</span></span> <span data-ttu-id="e3063-184"><xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> Метод вызывается для сохранения файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-184">The <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called to save the file to the specified path on the server.</span></span>  
  
 [!code-aspx-csharp[FileUploadClass2#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadClass2/cs/fileuploadclass2cs.aspx#1)]
 [!code-aspx-vb[FileUploadClass2#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadClass2/VB/fileuploadclass2vb.aspx#1)]  
  
 <span data-ttu-id="e3063-185">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по пути, указанному в коде.</span><span class="sxs-lookup"><span data-stu-id="e3063-185">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a path that is specified in the code.</span></span> <span data-ttu-id="e3063-186">Элемент управления ограничивает размер файла, который можно передать в 2 МБ.</span><span class="sxs-lookup"><span data-stu-id="e3063-186">The control limits the size of the file that can be uploaded to 2 MB.</span></span> <span data-ttu-id="e3063-187">Свойство используется для доступа к базовому <xref:System.Web.HttpPostedFile.ContentLength%2A> свойству и возврата размера файла. <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-187">The <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property is used to access the underlying <xref:System.Web.HttpPostedFile.ContentLength%2A> property and return the size of the file.</span></span> <span data-ttu-id="e3063-188">Если размер загружаемого файла меньше 2 МБ, <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> вызывается метод для сохранения файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-188">If the size of the file to upload is less than 2 MB, the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called to save the file to the specified path on the server.</span></span> <span data-ttu-id="e3063-189">Помимо проверки максимального размера файла в коде приложения, можно задать `maxRequestLength` для атрибута элемента [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) максимально допустимый размер в файле конфигурации для приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-189">In addition to checking for the maximum file size setting in your application code, you can set the `maxRequestLength` attribute of the [httpRuntime](https://msdn.microsoft.com/library/e9b81350-8aaf-47cc-9843-5f7d0c59f369) element to a maximum allowable size in the configuration file for your application.</span></span>  
  
 [!code-aspx-csharp[FileUploadClass3#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadClass3/cs/fileuploadclass3cs.aspx#1)]
 [!code-aspx-vb[FileUploadClass3#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadClass3/VB/fileuploadclass3vb.aspx#1)]  
  
 <span data-ttu-id="e3063-190">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по пути, указанному в коде.</span><span class="sxs-lookup"><span data-stu-id="e3063-190">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a path that is specified in the code.</span></span> <span data-ttu-id="e3063-191">В этом примере можно передать только файлы с расширениями doc или xls.</span><span class="sxs-lookup"><span data-stu-id="e3063-191">This example allows only files that have the .doc or .xls file name extensions to be uploaded.</span></span> <span data-ttu-id="e3063-192"><xref:System.IO.Path.GetExtension%2A?displayProperty=nameWithType> Метод вызывается для возврата расширения файла для передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-192">The <xref:System.IO.Path.GetExtension%2A?displayProperty=nameWithType> method is called to return the extension of the file to upload.</span></span> <span data-ttu-id="e3063-193">Если файл имеет расширение DOC или xls, <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> вызывается метод для сохранения файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-193">If the file has a .doc or .xls file name extension, the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called to save the file to the specified path on the server.</span></span>  
  
 [!code-aspx-csharp[FileUploadClass4#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadClass4/cs/fileuploadclass4cs.aspx#1)]
 [!code-aspx-vb[FileUploadClass4#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadClass4/VB/fileuploadclass4vb.aspx#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="M:System.Web.UI.WebControls.FileUpload.SaveAs(System.String)" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public FileUpload ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.FileUpload.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; FileUpload();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="e3063-194">Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-194">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.FileUpload" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-195">Используйте конструктор для инициализации нового экземпляра <xref:System.Web.UI.WebControls.FileUpload> класса. <xref:System.Web.UI.WebControls.FileUpload.%23ctor%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-195">Use the <xref:System.Web.UI.WebControls.FileUpload.%23ctor%2A> constructor to initialize a new instance of the <xref:System.Web.UI.WebControls.FileUpload> class.</span></span> <span data-ttu-id="e3063-196"><xref:System.Web.UI.WebControls.FileUpload> Элемент управления не сохраняет файл на сервере автоматически после того, как пользователь выберет файл для отправки.</span><span class="sxs-lookup"><span data-stu-id="e3063-196">The <xref:System.Web.UI.WebControls.FileUpload> control does not automatically save a file to the server after the user selects the file to upload.</span></span> <span data-ttu-id="e3063-197">Необходимо явно предоставить элемент управления или механизм, чтобы разрешить пользователю отправлять указанный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-197">You must explicitly provide a control or mechanism to allow the user to submit the specified file.</span></span> <span data-ttu-id="e3063-198">Например, можно указать кнопку, которую пользователь нажимает для отправки файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-198">For example, you can provide a button that the user clicks to upload the file.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-199">В следующем примере показано, как инициализировать новый экземпляр <xref:System.Web.UI.WebControls.FileUpload> класса.</span><span class="sxs-lookup"><span data-stu-id="e3063-199">The following example demonstrates how to initialize a new instance of the <xref:System.Web.UI.WebControls.FileUpload> class.</span></span> <span data-ttu-id="e3063-200">Обратите внимание, что этот пример демонстрирует синтаксис конструктора, но не добавляет функциональные возможности в элемент управления после его создания.</span><span class="sxs-lookup"><span data-stu-id="e3063-200">Note that this example demonstrates the constructor syntax but does not add functionality to the control after it is created.</span></span>  
  
 <span data-ttu-id="e3063-201">Этот пример является частью большого примера, <xref:System.Web.UI.WebControls.FileUpload> приведенного для класса.</span><span class="sxs-lookup"><span data-stu-id="e3063-201">This example is part of a larger example provided for the <xref:System.Web.UI.WebControls.FileUpload> class.</span></span>  
  
 [!code-aspx-vb[FileUploadCstr#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadCstr/VB/fileuploadcstrvb.aspx#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AddAttributesToRender">
      <MemberSignature Language="C#" Value="protected override void AddAttributesToRender (System.Web.UI.HtmlTextWriter writer);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void AddAttributesToRender(class System.Web.UI.HtmlTextWriter writer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.FileUpload.AddAttributesToRender(System.Web.UI.HtmlTextWriter)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub AddAttributesToRender (writer As HtmlTextWriter)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void AddAttributesToRender(System::Web::UI::HtmlTextWriter ^ writer);" />
      <MemberSignature Language="F#" Value="override this.AddAttributesToRender : System.Web.UI.HtmlTextWriter -&gt; unit" Usage="fileUpload.AddAttributesToRender writer" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="writer" Type="System.Web.UI.HtmlTextWriter" />
      </Parameters>
      <Docs>
        <param name="writer"><span data-ttu-id="e3063-202">Объект <see cref="T:System.Web.UI.HtmlTextWriter" />, представляющий выходной поток для отрисовки HTML-содержимого на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="e3063-202">An <see cref="T:System.Web.UI.HtmlTextWriter" /> that represents the output stream to render HTML content on the client.</span></span></param>
        <summary><span data-ttu-id="e3063-203">Добавляет атрибуты и стили HTML элемента управления <see cref="T:System.Web.UI.WebControls.FileUpload" />, которые должны быть отображены в указанном объекте <see cref="T:System.Web.UI.HtmlTextWriter" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-203">Adds the HTML attributes and styles of a <see cref="T:System.Web.UI.WebControls.FileUpload" /> control to render to the specified <see cref="T:System.Web.UI.HtmlTextWriter" /> object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-204">Метод в основном используется разработчиками элементов управления для вставки соответствующих атрибутов и стилей <xref:System.Web.UI.HtmlTextWriter?displayProperty=nameWithType> в выходной поток для <xref:System.Web.UI.WebControls.FileUpload> элемента управления. <xref:System.Web.UI.WebControls.FileUpload.AddAttributesToRender%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-204">The <xref:System.Web.UI.WebControls.FileUpload.AddAttributesToRender%2A> method is primarily used by control developers to insert the appropriate attributes and styles to the <xref:System.Web.UI.HtmlTextWriter?displayProperty=nameWithType> output stream for a <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-205"><xref:System.Web.UI.WebControls.FileUpload.AddAttributesToRender%2A> Метод переопределяет метод. <xref:System.Web.UI.WebControls.WebControl.AddAttributesToRender%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="e3063-205">The <xref:System.Web.UI.WebControls.FileUpload.AddAttributesToRender%2A> method overrides the <xref:System.Web.UI.WebControls.WebControl.AddAttributesToRender%2A?displayProperty=nameWithType> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.UI.HtmlTextWriter" />
        <altmember cref="M:System.Web.UI.WebControls.WebControl.AddAttributesToRender(System.Web.UI.HtmlTextWriter)" />
      </Docs>
    </Member>
    <Member MemberName="AllowMultiple">
      <MemberSignature Language="C#" Value="public virtual bool AllowMultiple { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllowMultiple" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.AllowMultiple" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Property AllowMultiple As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property bool AllowMultiple { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AllowMultiple : bool with get, set" Usage="System.Web.UI.WebControls.FileUpload.AllowMultiple" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue(false)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-206">Возвращает или задает значение, указывающее, может ли для отправки быть выбрано несколько файлов.</span><span class="sxs-lookup"><span data-stu-id="e3063-206">Gets or sets a value that specifies whether multiple files can be selected for upload.</span></span></summary>
        <value><span data-ttu-id="e3063-207">Значение <see langword="true" />, если можно выбрать несколько файлов; в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-207"><see langword="true" /> if multiple files can be selected; otherwise, <see langword="false" />.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="FileBytes">
      <MemberSignature Language="C#" Value="public byte[] FileBytes { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance unsigned int8[] FileBytes" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.FileBytes" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property FileBytes As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property cli::array &lt;System::Byte&gt; ^ FileBytes { cli::array &lt;System::Byte&gt; ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.FileBytes : byte[]" Usage="System.Web.UI.WebControls.FileUpload.FileBytes" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ComponentModel.Bindable(true)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-208">Возвращает массив байт всего указанного файла, используя элемент управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-208">Gets an array of the bytes in a file that is specified by using a <see cref="T:System.Web.UI.WebControls.FileUpload" /> control.</span></span></summary>
        <value><span data-ttu-id="e3063-209">Массив <see cref="T:System.Byte" />, который все содержимое указанного файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-209">A <see cref="T:System.Byte" /> array that contains the contents of the specified file.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-210"><xref:System.Web.UI.WebControls.FileUpload> Элемент управления не считывает файл автоматически из клиента.</span><span class="sxs-lookup"><span data-stu-id="e3063-210">The <xref:System.Web.UI.WebControls.FileUpload> control does not automatically read the file from the client.</span></span> <span data-ttu-id="e3063-211">Необходимо явно предоставить элемент управления или механизм, чтобы разрешить пользователю отправлять указанный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-211">You must explicitly provide a control or mechanism to allow the user to submit the specified file.</span></span> <span data-ttu-id="e3063-212">Например, можно указать кнопку, которую пользователь может щелкнуть для отправки файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-212">For example, you can provide a button that the user can click to upload the file.</span></span> <span data-ttu-id="e3063-213">Код, который вы пишете для сохранения указанного файла, может вызвать <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> свойство, которое возвращает содержимое файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-213">The code that you write to save the specified file could call the <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> property, which returns the contents of the file.</span></span>  
  
 <span data-ttu-id="e3063-214">Перед вызовом <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> свойства следует <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> использовать <xref:System.Web.UI.WebControls.FileUpload> свойство, чтобы убедиться, что элемент управления содержит файл для передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-214">Before calling the <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> property, you should use the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> property to verify that the <xref:System.Web.UI.WebControls.FileUpload> control contains a file to upload.</span></span> <span data-ttu-id="e3063-215"><xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> Если возвращает `true`, вызовите <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="e3063-215">If the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> returns `true`, call the <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> property.</span></span> <span data-ttu-id="e3063-216">Если она возвращает `false`, отобразите пользователю сообщение, указывающее, что элемент управления не содержит файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-216">If it returns `false`, display a message to the user indicating that the control does not contain a file.</span></span> <span data-ttu-id="e3063-217">Если не предоставить код обработки ошибок для проверки существования файла, попытка сохранить несуществующий файл вызовет <xref:System.Web.HttpException> исключение.</span><span class="sxs-lookup"><span data-stu-id="e3063-217">If you do not provide error-handling code to verify that a file exists, an attempt to save a nonexistent file throws an <xref:System.Web.HttpException> exception.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-218">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления.</span><span class="sxs-lookup"><span data-stu-id="e3063-218">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-219">Когда пользователь нажимает кнопку **отправить файл** , содержимое файла отображается как байты в текстовом поле на странице.</span><span class="sxs-lookup"><span data-stu-id="e3063-219">When the user clicks the **Upload file** button, the contents of the file are displayed as bytes in a text box on the page.</span></span> <span data-ttu-id="e3063-220">В этом примере используется <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> свойство для передачи всего файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-220">This example uses the <xref:System.Web.UI.WebControls.FileUpload.FileBytes%2A> property to upload the entire file.</span></span>  
  
 [!code-aspx-csharp[FileUploadFileBytes#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadFileBytes/CS/FileUploadFileBytesCS.aspx#1)]
 [!code-aspx-vb[FileUploadFileBytes#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadFileBytes/VB/FileUploadFileBytesVB.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="e3063-221">Весь файл не был прочитан.</span><span class="sxs-lookup"><span data-stu-id="e3063-221">The entire file was not read.</span></span></exception>
        <altmember cref="P:System.Web.UI.WebControls.FileUpload.HasFile" />
      </Docs>
    </Member>
    <Member MemberName="FileContent">
      <MemberSignature Language="C#" Value="public System.IO.Stream FileContent { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IO.Stream FileContent" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.FileContent" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property FileContent As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IO::Stream ^ FileContent { System::IO::Stream ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.FileContent : System.IO.Stream" Usage="System.Web.UI.WebControls.FileUpload.FileContent" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-222">Возвращает объект <see cref="T:System.IO.Stream" />, указывающий на файл для загрузки, используя элемент управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-222">Gets a <see cref="T:System.IO.Stream" /> object that points to a file to upload using the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control.</span></span></summary>
        <value><span data-ttu-id="e3063-223"><see cref="T:System.IO.Stream" />, указывающий на файл для загрузки, используя <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-223">A <see cref="T:System.IO.Stream" /> that points to a file to upload using the <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-224">Свойство получает объект, указывающий на файл <xref:System.Web.UI.WebControls.FileUpload> для передачи с помощью элемента управления. <xref:System.IO.Stream> <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-224">The <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property gets a <xref:System.IO.Stream> object that points to a file to upload by using the <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-225"><xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> Используйте свойство для доступа к содержимому файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-225">Use the <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property to access the contents of the file.</span></span> <span data-ttu-id="e3063-226">Например, можно использовать <xref:System.IO.Stream> объект, возвращаемый этим свойством, для считывания содержимого файла в виде байтов и сохранения их в массиве байтов.</span><span class="sxs-lookup"><span data-stu-id="e3063-226">For example, you can use the <xref:System.IO.Stream> object that is returned by this property to read the contents of the file as bytes and store them in a byte array.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-227">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления.</span><span class="sxs-lookup"><span data-stu-id="e3063-227">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-228"><xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> Свойство используется для считывания содержимого файла в массив байтов.</span><span class="sxs-lookup"><span data-stu-id="e3063-228">The <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property is used to read the contents of the file into a byte array.</span></span> <span data-ttu-id="e3063-229">Когда пользователь нажимает кнопку **отправить файл** , содержимое файла отображается как байты в текстовом поле на странице.</span><span class="sxs-lookup"><span data-stu-id="e3063-229">When the user clicks the **Upload file** button, the contents of the file are displayed as bytes in a text box on the page.</span></span>  
  
 [!code-aspx-csharp[FileUpload.FileContent#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUpload.FileContent/cs/fileupload.filecontentcs.aspx#1)]
 [!code-aspx-vb[FileUpload.FileContent#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUpload.FileContent/VB/fileupload.filecontentvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.IO.Stream" />
        <altmember cref="M:System.Web.UI.WebControls.FileUpload.SaveAs(System.String)" />
      </Docs>
    </Member>
    <Member MemberName="FileName">
      <MemberSignature Language="C#" Value="public string FileName { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string FileName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.FileName" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property FileName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ FileName { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.FileName : string" Usage="System.Web.UI.WebControls.FileUpload.FileName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-230">Возвращает имя файла на компьютере клиента, используя элемент управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-230">Gets the name of a file on a client to upload using the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control.</span></span></summary>
        <value><span data-ttu-id="e3063-231">Строка, содержащая имя файла на компьютере клиента для отправки с помощью <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-231">A string that specifies the name of a file on a client to upload using the <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-232">Возвращает имя файла на компьютере клиента, используя элемент управления <xref:System.Web.UI.WebControls.FileUpload>.</span><span class="sxs-lookup"><span data-stu-id="e3063-232">Gets the name of a file on a client to upload using the <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-233">Имя файла, возвращаемого <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> свойством, не включает путь к файлу на клиенте.</span><span class="sxs-lookup"><span data-stu-id="e3063-233">The file name that the <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> property returns does not include the path of the file on the client.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-234">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, сохраняющий файлы по пути, указанному в коде.</span><span class="sxs-lookup"><span data-stu-id="e3063-234">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that saves files to a path that is specified in code.</span></span> <span data-ttu-id="e3063-235"><xref:System.Web.UI.WebControls.FileUpload.FileName%2A> Свойство используется для получения имени файла для отправки.</span><span class="sxs-lookup"><span data-stu-id="e3063-235">The <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> property is used to get the name of the file to upload.</span></span> <span data-ttu-id="e3063-236"><xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> Метод вызывается для сохранения файла по указанному пути на сервере, используя то же имя, что и файл на клиенте.</span><span class="sxs-lookup"><span data-stu-id="e3063-236">The <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called to save the file to the specified path on the server, using the same name the file has on the client.</span></span> <span data-ttu-id="e3063-237">Обратите внимание, что этот пример демонстрирует базовый синтаксис для этого элемента управления, но не показывает все необходимые проверки ошибок, которые следует выполнить перед сохранением файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-237">Note that this example demonstrates the basic syntax for this control, but does not demonstrate all the necessary error checking that should be done before saving the file.</span></span> <span data-ttu-id="e3063-238">Более полный пример содержится в разделе <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A>.</span><span class="sxs-lookup"><span data-stu-id="e3063-238">For a more complete example, see <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A>.</span></span>  
  
 [!code-aspx-csharp[FileUploadClass1#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUploadClass1/cs/fileuploadclass1cs.aspx#1)]
 [!code-aspx-vb[FileUploadClass1#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUploadClass1/VB/fileuploadclass1vb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.FileUpload.SaveAs(System.String)" />
      </Docs>
    </Member>
    <Member MemberName="HasFile">
      <MemberSignature Language="C#" Value="public bool HasFile { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool HasFile" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.HasFile" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property HasFile As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool HasFile { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.HasFile : bool" Usage="System.Web.UI.WebControls.FileUpload.HasFile" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-239">Возвращает значение, определяющее наличие файла у элемента управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-239">Gets a value indicating whether the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control contains a file.</span></span></summary>
        <value><span data-ttu-id="e3063-240">Значение <see langword="true" />, если <see cref="T:System.Web.UI.WebControls.FileUpload" /> содержит файл; в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-240"><see langword="true" /> if the <see cref="T:System.Web.UI.WebControls.FileUpload" /> contains a file; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-241">Свойство получает значение, указывающее, содержит <xref:System.Web.UI.WebControls.FileUpload> ли элемент управления файл для передачи. <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-241">The <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> property gets a value indicating whether the <xref:System.Web.UI.WebControls.FileUpload> control contains a file to upload.</span></span> <span data-ttu-id="e3063-242">Используйте это свойство, чтобы убедиться, что файл для отправки существует перед выполнением операций с файлом.</span><span class="sxs-lookup"><span data-stu-id="e3063-242">Use this property to verify that a file to upload exists before performing operations on the file.</span></span> <span data-ttu-id="e3063-243">Например, перед вызовом <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метода для сохранения файла на диск <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> используйте свойство, чтобы убедиться, что файл существует.</span><span class="sxs-lookup"><span data-stu-id="e3063-243">For example, before calling the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method to save the file to disk, use the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> property to verify that the file exists.</span></span> <span data-ttu-id="e3063-244">Если <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> возвращает `true`, вызовите метод.</span><span class="sxs-lookup"><span data-stu-id="e3063-244">If <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> returns `true`, call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method.</span></span> <span data-ttu-id="e3063-245">Если она возвращает `false`, отобразите пользователю сообщение, указывающее, что элемент управления не содержит файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-245">If it returns `false`, display a message to the user indicating that the control does not contain a file.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-246">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, выполняющий проверку ошибок.</span><span class="sxs-lookup"><span data-stu-id="e3063-246">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that performs error checking.</span></span> <span data-ttu-id="e3063-247">Перед сохранением файла <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> вызывается метод для проверки того, что элемент управления содержит файл для передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-247">Before saving the file, the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> method is called to verify that the control contains a file to upload.</span></span> <span data-ttu-id="e3063-248">Кроме того, <xref:System.IO.File.Exists%2A?displayProperty=nameWithType> метод вызывается для проверки того, существует ли в пути файл с таким же именем.</span><span class="sxs-lookup"><span data-stu-id="e3063-248">In addition, the <xref:System.IO.File.Exists%2A?displayProperty=nameWithType> method is called to check whether a file with the same name already occurs in the path.</span></span> <span data-ttu-id="e3063-249">Если это так, перед <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> вызовом метода имя файла для передачи начинается с символа подчеркивания.</span><span class="sxs-lookup"><span data-stu-id="e3063-249">If it does, the name of the file to upload is prefixed with an underscore character before the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called.</span></span> <span data-ttu-id="e3063-250">Это предотвращает перезапись существующего файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-250">This prevents the existing file from being overwritten.</span></span>  
  
 [!code-aspx-csharp[FileUpload.SaveAs#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUpload.SaveAs/cs/fileupload.saveascs.aspx#1)]
 [!code-aspx-vb[FileUpload.SaveAs#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUpload.SaveAs/VB/fileupload.saveasvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.WebControls.FileUpload.SaveAs(System.String)" />
      </Docs>
    </Member>
    <Member MemberName="HasFiles">
      <MemberSignature Language="C#" Value="public bool HasFiles { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool HasFiles" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.HasFiles" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property HasFiles As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool HasFiles { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.HasFiles : bool" Usage="System.Web.UI.WebControls.FileUpload.HasFiles" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-251">Получает значение, которое указывает, были ли загружены файлы.</span><span class="sxs-lookup"><span data-stu-id="e3063-251">Gets a value that indicates whether any files have been uploaded.</span></span></summary>
        <value><span data-ttu-id="e3063-252">Значение <see langword="true" />, если были отправлены какие-либо файлы; в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-252"><see langword="true" /> if any files have been uploaded; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-253">Этот метод также возвращает `false` значение, если загружается пустой файл (0 байт).</span><span class="sxs-lookup"><span data-stu-id="e3063-253">This method also returns `false` if an empty file (zero bytes) is uploaded.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnPreRender">
      <MemberSignature Language="C#" Value="protected internal override void OnPreRender (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void OnPreRender(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.FileUpload.OnPreRender(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub OnPreRender (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void OnPreRender(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="override this.OnPreRender : EventArgs -&gt; unit" Usage="fileUpload.OnPreRender e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="e3063-254">Объект <see cref="T:System.EventArgs" />, содержащий данные о событии.</span><span class="sxs-lookup"><span data-stu-id="e3063-254">An <see cref="T:System.EventArgs" /> object that contains the event data.</span></span></param>
        <summary><span data-ttu-id="e3063-255">Создает событие <see cref="E:System.Web.UI.Control.PreRender" /> элемента управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-255">Raises the <see cref="E:System.Web.UI.Control.PreRender" /> event for the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-256">Метод уведомляет <xref:System.Web.UI.WebControls.FileUpload> элемент управления о выполнении необходимых действий предварительной подготовки перед сохранением состояния представления и отрисовки содержимого. <xref:System.Web.UI.WebControls.FileUpload.OnPreRender%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-256">The <xref:System.Web.UI.WebControls.FileUpload.OnPreRender%2A> method notifies the <xref:System.Web.UI.WebControls.FileUpload> control to perform any necessary pre-rendering steps before saving view state and rendering content.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="PostedFile">
      <MemberSignature Language="C#" Value="public System.Web.HttpPostedFile PostedFile { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Web.HttpPostedFile PostedFile" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.PostedFile" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property PostedFile As HttpPostedFile" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Web::HttpPostedFile ^ PostedFile { System::Web::HttpPostedFile ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.PostedFile : System.Web.HttpPostedFile" Usage="System.Web.UI.WebControls.FileUpload.PostedFile" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute>
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.HttpPostedFile</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-257">Возвращает основной объект <see cref="T:System.Web.HttpPostedFile" /> для загружаемого файла для загрузки, используя элемент управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-257">Gets the underlying <see cref="T:System.Web.HttpPostedFile" /> object for a file that is uploaded by using the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control.</span></span></summary>
        <value><span data-ttu-id="e3063-258"><see cref="T:System.Web.HttpPostedFile" /> для загружаемого файла, используя <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-258">An <see cref="T:System.Web.HttpPostedFile" /> for a file uploaded by using the <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-259">Свойство получает базовый <xref:System.Web.HttpPostedFile> объект для файла, который отправляется с помощью <xref:System.Web.UI.WebControls.FileUpload> элемента управления. <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-259">The <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property gets the underlying <xref:System.Web.HttpPostedFile> object for a file that is uploaded by using the <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-260">Это свойство используется для доступа к дополнительным свойствам отправленного файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-260">Use this property to access additional properties on the uploaded file.</span></span>  
  
 <span data-ttu-id="e3063-261">Чтобы получить длину файла <xref:System.Web.HttpPostedFile.ContentLength%2A> , можно использовать свойство.</span><span class="sxs-lookup"><span data-stu-id="e3063-261">You can use the <xref:System.Web.HttpPostedFile.ContentLength%2A> property to get the length of the file.</span></span> <span data-ttu-id="e3063-262">Для получения типа содержимого <xref:System.Web.HttpPostedFile.ContentType%2A> MIME файла можно использовать свойство.</span><span class="sxs-lookup"><span data-stu-id="e3063-262">You can use the <xref:System.Web.HttpPostedFile.ContentType%2A> property to get the MIME content type of the file.</span></span> <span data-ttu-id="e3063-263">Кроме того <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> , можно использовать свойство для <xref:System.Web.HttpPostedFile.FileName%2A> доступа к свойству, <xref:System.Web.HttpPostedFile.InputStream%2A> свойству и <xref:System.Web.HttpPostedFile.SaveAs%2A> методу.</span><span class="sxs-lookup"><span data-stu-id="e3063-263">In addition, you can use the <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property to access the <xref:System.Web.HttpPostedFile.FileName%2A> property, the <xref:System.Web.HttpPostedFile.InputStream%2A> property, and the <xref:System.Web.HttpPostedFile.SaveAs%2A> method.</span></span> <span data-ttu-id="e3063-264">Тем не менее те же функциональные возможности обеспечиваются <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> свойством <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> , свойством и <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> методом.</span><span class="sxs-lookup"><span data-stu-id="e3063-264">However, the same functionality is provided by the <xref:System.Web.UI.WebControls.FileUpload.FileName%2A> property, the <xref:System.Web.UI.WebControls.FileUpload.FileContent%2A> property, and the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-265">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления.</span><span class="sxs-lookup"><span data-stu-id="e3063-265">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control.</span></span> <span data-ttu-id="e3063-266">Когда пользователь нажимает кнопку **отправить файл** , содержимое файла отображается как байты в текстовом поле на странице.</span><span class="sxs-lookup"><span data-stu-id="e3063-266">When the user clicks the **Upload file** button, the contents of the file are displayed as bytes in a text box on the page.</span></span> <span data-ttu-id="e3063-267">В этом примере для <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> <xref:System.Web.HttpPostedFile.ContentLength%2A?displayProperty=nameWithType> доступа к свойству используется свойство.</span><span class="sxs-lookup"><span data-stu-id="e3063-267">This example uses the <xref:System.Web.UI.WebControls.FileUpload.PostedFile%2A> property to access the <xref:System.Web.HttpPostedFile.ContentLength%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="e3063-268"><xref:System.Web.HttpPostedFile.ContentLength%2A> Свойство используется для определения длины файла перед копированием содержимого файла в массив байтов.</span><span class="sxs-lookup"><span data-stu-id="e3063-268">The <xref:System.Web.HttpPostedFile.ContentLength%2A> property is used to determine the length of the file before copying the file contents to a byte array.</span></span>  
  
 [!code-aspx-csharp[FileUpload.FileContent#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUpload.FileContent/cs/fileupload.filecontentcs.aspx#1)]
 [!code-aspx-vb[FileUpload.FileContent#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUpload.FileContent/VB/fileupload.filecontentvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.HttpPostedFile" />
      </Docs>
    </Member>
    <Member MemberName="PostedFiles">
      <MemberSignature Language="C#" Value="public System.Collections.Generic.IList&lt;System.Web.HttpPostedFile&gt; PostedFiles { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Collections.Generic.IList`1&lt;class System.Web.HttpPostedFile&gt; PostedFiles" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.FileUpload.PostedFiles" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property PostedFiles As IList(Of HttpPostedFile)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Collections::Generic::IList&lt;System::Web::HttpPostedFile ^&gt; ^ PostedFiles { System::Collections::Generic::IList&lt;System::Web::HttpPostedFile ^&gt; ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.PostedFiles : System.Collections.Generic.IList&lt;System.Web.HttpPostedFile&gt;" Usage="System.Web.UI.WebControls.FileUpload.PostedFiles" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IList&lt;System.Web.HttpPostedFile&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="e3063-269">Получает коллекцию отправленных файлов.</span><span class="sxs-lookup"><span data-stu-id="e3063-269">Gets the collection of uploaded files.</span></span></summary>
        <value><span data-ttu-id="e3063-270">Коллекция отправленных файлов.</span><span class="sxs-lookup"><span data-stu-id="e3063-270">The collection of uploaded files.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Render">
      <MemberSignature Language="C#" Value="protected internal override void Render (System.Web.UI.HtmlTextWriter writer);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void Render(class System.Web.UI.HtmlTextWriter writer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.FileUpload.Render(System.Web.UI.HtmlTextWriter)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub Render (writer As HtmlTextWriter)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void Render(System::Web::UI::HtmlTextWriter ^ writer);" />
      <MemberSignature Language="F#" Value="override this.Render : System.Web.UI.HtmlTextWriter -&gt; unit" Usage="fileUpload.Render writer" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="writer" Type="System.Web.UI.HtmlTextWriter" />
      </Parameters>
      <Docs>
        <param name="writer"><span data-ttu-id="e3063-271">Объект <see cref="T:System.Web.UI.HtmlTextWriter" />, получающий содержимое элемента управления <see cref="T:System.Web.UI.WebControls.FileUpload" />.</span><span class="sxs-lookup"><span data-stu-id="e3063-271">The <see cref="T:System.Web.UI.HtmlTextWriter" /> object that receives the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control content.</span></span></param>
        <summary><span data-ttu-id="e3063-272">Отправляет содержимое элемента управления <see cref="T:System.Web.UI.WebControls.FileUpload" /> указанному объекту <see cref="T:System.Web.UI.HtmlTextWriter" />, который записывает содержимое для отрисовки в клиенте.</span><span class="sxs-lookup"><span data-stu-id="e3063-272">Sends the <see cref="T:System.Web.UI.WebControls.FileUpload" /> control content to the specified <see cref="T:System.Web.UI.HtmlTextWriter" /> object, which writes the content to render on the client.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-273">Метод отправляет содержимое элементауправления<xref:System.Web.UI.HtmlTextWriter?displayProperty=nameWithType> в указанный объект, который записывает содержимое для отрисовки на клиенте. <xref:System.Web.UI.WebControls.FileUpload> <xref:System.Web.UI.WebControls.FileUpload.Render%2A></span><span class="sxs-lookup"><span data-stu-id="e3063-273">The <xref:System.Web.UI.WebControls.FileUpload.Render%2A> method sends the <xref:System.Web.UI.WebControls.FileUpload> control content to the specified <xref:System.Web.UI.HtmlTextWriter?displayProperty=nameWithType> object, which writes the content to render on the client.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.UI.HtmlTextWriter" />
      </Docs>
    </Member>
    <Member MemberName="SaveAs">
      <MemberSignature Language="C#" Value="public void SaveAs (string filename);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void SaveAs(string filename) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.FileUpload.SaveAs(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub SaveAs (filename As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SaveAs(System::String ^ filename);" />
      <MemberSignature Language="F#" Value="member this.SaveAs : string -&gt; unit" Usage="fileUpload.SaveAs filename" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="filename" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="filename"><span data-ttu-id="e3063-274">Строка, указывающая полный путь к каталогу на сервере, в котором следует сохранить загружаемый файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-274">A string that specifies the full path of the location of the server on which to save the uploaded file.</span></span></param>
        <summary><span data-ttu-id="e3063-275">Сохраняет содержимое загруженного файла по указанному пути на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-275">Saves the contents of an uploaded file to a specified path on the Web server.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3063-276"><xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> Метод сохраняет содержимое отправленного файла по указанному пути на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-276">The <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method saves the contents of an uploaded file to a specified path on the Web server.</span></span>  
  
 <span data-ttu-id="e3063-277"><xref:System.Web.UI.WebControls.FileUpload> Элемент управления не сохраняет файл на сервере автоматически после того, как пользователь выберет файл для отправки.</span><span class="sxs-lookup"><span data-stu-id="e3063-277">The <xref:System.Web.UI.WebControls.FileUpload> control does not automatically save a file to the server after the user selects the file to upload.</span></span> <span data-ttu-id="e3063-278">Необходимо явно предоставить элемент управления или механизм, чтобы разрешить пользователю отправлять указанный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-278">You must explicitly provide a control or mechanism to allow the user to submit the specified file.</span></span> <span data-ttu-id="e3063-279">Например, можно указать кнопку, которую пользователь нажимает для отправки файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-279">For example, you can provide a button that the user clicks to upload the file.</span></span> <span data-ttu-id="e3063-280">Код, который вы пишете для сохранения указанного файла, должен вызывать <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод, который сохраняет содержимое файла по указанному пути на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-280">The code that you write to save the specified file should call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method, which saves the contents of a file to a specified path on the server.</span></span> <span data-ttu-id="e3063-281">Как правило, <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод вызывается в методе обработки событий для события, которое вызывает обратную передачу на сервер.</span><span class="sxs-lookup"><span data-stu-id="e3063-281">Typically, the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called in an event-handling method for an event that raises a post back to the server.</span></span> <span data-ttu-id="e3063-282">Например, если вы представите кнопку для отправки файла, код для сохранения файла на сервере может быть добавлен в метод обработки событий для события щелчка.</span><span class="sxs-lookup"><span data-stu-id="e3063-282">For example, if you provide a button to submit a file, the code to save the file to the server could then be included inside the event-handling method for the click event.</span></span>  
  
 <span data-ttu-id="e3063-283">При вызове <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метода необходимо указать полный путь к каталогу на сервере, в котором будет сохранен отправленный файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-283">When you call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method, you must specify the full path of the directory on the server in which to save the uploaded file.</span></span> <span data-ttu-id="e3063-284">Если путь не указан явным образом в коде приложения, <xref:System.Web.HttpException> то при попытке пользователя отправить файл возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="e3063-284">If you do not explicitly specify a path in your application code, an <xref:System.Web.HttpException> exception is thrown when a user attempts to upload a file.</span></span> <span data-ttu-id="e3063-285">Такое поведение помогает обеспечить безопасность файлов на сервере, не позволяя пользователям указывать путь, в котором будут сохраняться отправляемые им файлы.</span><span class="sxs-lookup"><span data-stu-id="e3063-285">This behavior helps keep the files on the server secure, by not allowing users to specify a path in which to save the files that they upload.</span></span>  
  
 <span data-ttu-id="e3063-286">Перед вызовом <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метода следует <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> использовать <xref:System.Web.UI.WebControls.FileUpload> свойство, чтобы убедиться, что элемент управления содержит файл для передачи.</span><span class="sxs-lookup"><span data-stu-id="e3063-286">Before calling the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method, you should use the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> property to verify that the <xref:System.Web.UI.WebControls.FileUpload> control contains a file to upload.</span></span> <span data-ttu-id="e3063-287"><xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> Если возвращает `true`, вызовите <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="e3063-287">If the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> returns `true`, call the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method.</span></span> <span data-ttu-id="e3063-288">Если она возвращает `false`, отобразите пользователю сообщение, указывающее, что элемент управления не содержит файл.</span><span class="sxs-lookup"><span data-stu-id="e3063-288">If it returns `false`, display a message to the user indicating that the control does not contain a file.</span></span> <span data-ttu-id="e3063-289">Если не предоставить код обработки ошибок для проверки существования файла, попытка сохранить несуществующий файл вызовет <xref:System.Web.HttpException> исключение.</span><span class="sxs-lookup"><span data-stu-id="e3063-289">If you do not provide error-handling code to verify that a file exists, an attempt to save a nonexistent file throws an <xref:System.Web.HttpException> exception.</span></span>  
  
 <span data-ttu-id="e3063-290">Чтобы вызвать <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> метод для работы, приложение ASP.NET должно иметь доступ на запись к каталогу на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-290">For a call to the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> to work, the ASP.NET application must have write access to the directory on the server.</span></span> <span data-ttu-id="e3063-291">Существует два способа, которым приложение может получить доступ для записи.</span><span class="sxs-lookup"><span data-stu-id="e3063-291">There are two ways that the application can get write access.</span></span> <span data-ttu-id="e3063-292">Можно явно предоставить доступ на запись для учетной записи, под которой выполняется приложение, в каталоге, в который будут сохранены отправленные файлы.</span><span class="sxs-lookup"><span data-stu-id="e3063-292">You can explicitly grant write access to the account under which the application is running, in the directory in which the uploaded files will be saved.</span></span> <span data-ttu-id="e3063-293">Кроме того, можно увеличить уровень доверия, предоставляемый приложению ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e3063-293">Alternatively, you can increase the level of trust that is granted to the ASP.NET application.</span></span> <span data-ttu-id="e3063-294">Чтобы получить доступ на запись к каталогу, в котором будет выполняться приложение, приложению необходимо предоставить <xref:System.Web.AspNetHostingPermission> объект с уровнем доверия, равным <xref:System.Web.AspNetHostingPermissionLevel.Medium?displayProperty=nameWithType> значению.</span><span class="sxs-lookup"><span data-stu-id="e3063-294">To get write access to the executing directory for the application, the application must be granted the <xref:System.Web.AspNetHostingPermission> object with the trust level set to the <xref:System.Web.AspNetHostingPermissionLevel.Medium?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="e3063-295">Увеличение уровня доверия увеличивает доступ приложения к ресурсам на сервере.</span><span class="sxs-lookup"><span data-stu-id="e3063-295">Increasing the level of trust increases the application's access to resources on the server.</span></span> <span data-ttu-id="e3063-296">Обратите внимание, что этот подход не является безопасным, так как злоумышленник, получивший контроль над приложением, также сможет работать с этим уровнем доверия.</span><span class="sxs-lookup"><span data-stu-id="e3063-296">Note that this is not a secure approach, because a malicious user who gains control of your application will also be able to run under this higher level of trust.</span></span> <span data-ttu-id="e3063-297">Рекомендуется запускать приложение ASP.NET в контексте пользователя, имеющего минимальные права доступа, необходимые для запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="e3063-297">It is a best practice to run an ASP.NET application in the context of a user who has the minimum privileges that are required for the application to run.</span></span> <span data-ttu-id="e3063-298">Дополнительные сведения о безопасности в ASP.NET приложениях см. в разделе [основные рекомендации по безопасности для веб-приложений](https://msdn.microsoft.com/library/3eeeee9e-b09f-4c7f-8ce5-d9ca1f9322ad) и [ASP.NET уровни доверия и файлы политик](https://msdn.microsoft.com/library/f897c794-10d3-414c-86b7-59b66564bbf1).</span><span class="sxs-lookup"><span data-stu-id="e3063-298">For more information about security in ASP.NET applications, see [Basic Security Practices for Web Applications](https://msdn.microsoft.com/library/3eeeee9e-b09f-4c7f-8ce5-d9ca1f9322ad) and [ASP.NET Trust Levels and Policy Files](https://msdn.microsoft.com/library/f897c794-10d3-414c-86b7-59b66564bbf1).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="e3063-299">В следующем примере показано, как создать <xref:System.Web.UI.WebControls.FileUpload> элемент управления, выполняющий проверку ошибок.</span><span class="sxs-lookup"><span data-stu-id="e3063-299">The following example demonstrates how to create a <xref:System.Web.UI.WebControls.FileUpload> control that performs error checking.</span></span> <span data-ttu-id="e3063-300">Перед сохранением <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> файла вызывается метод, чтобы убедиться, что файл для отправки существует.</span><span class="sxs-lookup"><span data-stu-id="e3063-300">Before the file is saved, the <xref:System.Web.UI.WebControls.FileUpload.HasFile%2A> method is called to verify that a file to upload exists.</span></span> <span data-ttu-id="e3063-301">Кроме того, <xref:System.IO.File.Exists%2A?displayProperty=nameWithType> метод вызывается для проверки того, существует ли в пути файл с таким же именем.</span><span class="sxs-lookup"><span data-stu-id="e3063-301">In addition, the <xref:System.IO.File.Exists%2A?displayProperty=nameWithType> method is called to check whether a file that has the same name already exists in the path.</span></span> <span data-ttu-id="e3063-302">Если это так, имя файла для передачи имеет префикс перед <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> вызовом метода.</span><span class="sxs-lookup"><span data-stu-id="e3063-302">If it does, the name of the file to upload is prefixed with a number before the <xref:System.Web.UI.WebControls.FileUpload.SaveAs%2A> method is called.</span></span> <span data-ttu-id="e3063-303">Это предотвращает перезапись существующего файла.</span><span class="sxs-lookup"><span data-stu-id="e3063-303">This prevents the existing file from being overwritten.</span></span>  
  
 [!code-aspx-csharp[FileUpload.SaveAs#1](~/samples/snippets/csharp/VS_Snippets_WebNet/FileUpload.SaveAs/cs/fileupload.saveascs.aspx#1)]
 [!code-aspx-vb[FileUpload.SaveAs#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/FileUpload.SaveAs/VB/fileupload.saveasvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="e3063-304"><paramref name="filename" /> не является полным путем.</span><span class="sxs-lookup"><span data-stu-id="e3063-304"><paramref name="filename" /> is not a full path.</span></span></exception>
        <altmember cref="P:System.Web.UI.WebControls.FileUpload.HasFile" />
        <related type="Article" href="https://msdn.microsoft.com/library/3eeeee9e-b09f-4c7f-8ce5-d9ca1f9322ad"><span data-ttu-id="e3063-305">Основные методы обеспечения безопасности для веб-приложений</span><span class="sxs-lookup"><span data-stu-id="e3063-305">Basic Security Practices for Web Applications</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>