<Type Name="ContextExchangeMechanism" FullName="System.ServiceModel.Channels.ContextExchangeMechanism">
  <Metadata><Meta Name="ms.openlocfilehash" Value="eb1a88db39d805af9ecdb3cf03a48078ff45b899" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69156809" /></Metadata><TypeSignature Language="C#" Value="public enum ContextExchangeMechanism" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed ContextExchangeMechanism extends System.Enum" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.Channels.ContextExchangeMechanism" />
  <TypeSignature Language="VB.NET" Value="Public Enum ContextExchangeMechanism" />
  <TypeSignature Language="C++ CLI" Value="public enum class ContextExchangeMechanism" />
  <TypeSignature Language="F#" Value="type ContextExchangeMechanism = " />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.WorkflowServices</AssemblyName>
    <AssemblyVersion>3.5.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Enum</BaseTypeName>
  </Base>
  <Attributes>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.Runtime.CompilerServices.TypeForwardedFrom("System.WorkflowServices, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="c87b7-101">Задает механизм, используемый для обмена контекстом при взаимодействии между клиентом и службой: файл cookie HTTP или заголовок SOAP.</span><span class="sxs-lookup"><span data-stu-id="c87b7-101">Specifies whether an HTTP cookie or a SOAP header is the mechanism used to exchange context for a conversation between a client and service.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c87b7-102">Чтобы задать значение параметра <xref:System.ServiceModel.Channels.ContextBindingElement.ContextExchangeMechanism%2A> для взаимодействия между клиентом и службой, используйте свойство <xref:System.ServiceModel.Channels.ContextBindingElement.%23ctor%28System.Net.Security.ProtectionLevel%2CSystem.ServiceModel.Channels.ContextExchangeMechanism%29> или конструктор <xref:System.ServiceModel.Channels.ContextExchangeMechanism>.</span><span class="sxs-lookup"><span data-stu-id="c87b7-102">Use the <xref:System.ServiceModel.Channels.ContextBindingElement.ContextExchangeMechanism%2A> property or the <xref:System.ServiceModel.Channels.ContextBindingElement.%23ctor%28System.Net.Security.ProtectionLevel%2CSystem.ServiceModel.Channels.ContextExchangeMechanism%29> constructor to specify the value of the <xref:System.ServiceModel.Channels.ContextExchangeMechanism> for a conversation between a client and service.</span></span>  
  
 <span data-ttu-id="c87b7-103">Конечные точки службы, которым требуется поддержка протокола обмена контекстом, могут явно объявить это требование в своей опубликованной политике.</span><span class="sxs-lookup"><span data-stu-id="c87b7-103">Service endpoints that require support for the context exchange protocol can make this requirement explicit in their published policy.</span></span> <span data-ttu-id="c87b7-104">Утверждения политики, представляющие требование к клиенту, чтобы он поддерживал протокол обмена контекстом на уровне SOAP, или требующие включения поддержки файлов cookie HTTP, могут публиковаться конечной точкой.</span><span class="sxs-lookup"><span data-stu-id="c87b7-104">Policy assertions that represent the requirement for the client to support the context exchange protocol at the SOAP level or that require the enabling of HTTP cookie support can be published by an endpoint.</span></span> <span data-ttu-id="c87b7-105">Создание этих утверждений в политике службы управляется значением свойства <xref:System.ServiceModel.Channels.ContextBindingElement.ContextExchangeMechanism%2A>, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c87b7-105">The generation of these assertions into the policy on the service is controlled by the value of the <xref:System.ServiceModel.Channels.ContextBindingElement.ContextExchangeMechanism%2A> property as follows:</span></span>  
  
-   <span data-ttu-id="c87b7-106">Для HttpCookie создается следующее утверждение:</span><span class="sxs-lookup"><span data-stu-id="c87b7-106">For HttpCookie, the following assertion is generated:</span></span>  
  
    ```  
    <HttpUseCookie xmlns="http://schemas.xmlsoap.org/soap/http"/>  
    ```  
  
-   <span data-ttu-id="c87b7-107">Для Контекстсоафеадер создается следующее утверждение:</span><span class="sxs-lookup"><span data-stu-id="c87b7-107">For ContextSoapHeader, the following assertion is generated:</span></span>  
  
    ```  
    <IncludeContext   
    xmlns="http://schemas.microsoft.com/ws/2006/05/context"  
    protectionLevel="Sign" />  
    ```  
  
 <span data-ttu-id="c87b7-108">Перечисление HttpCookie реализуется на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="c87b7-108">The HttpCookie enumeration is implemented at the transport layer.</span></span> <span data-ttu-id="c87b7-109">Это можно использовать в случае симплексной связи, когда клиент отправляет исходный запрос, а контекст предоставляется службой в соответствующем ответе.</span><span class="sxs-lookup"><span data-stu-id="c87b7-109">This can be used in the case of simplex communication, where the client makes an initial request and the context is provided by the service on the corresponding reply.</span></span> <span data-ttu-id="c87b7-110">Все последующие сообщения, передаваемые между службой и клиентом в течение времени существования этого диалога, содержат данный контекст.</span><span class="sxs-lookup"><span data-stu-id="c87b7-110">All subsequent messages between the service and client for the lifetime of that conversation contain the context.</span></span> <span data-ttu-id="c87b7-111">Для конечных точек службы, использующих транспорт HTTP и клиентов, которые согласны разрешить использование файлов cookie HTTP, можно использовать Перечисление HttpCookie для обмена контекстом приложения.</span><span class="sxs-lookup"><span data-stu-id="c87b7-111">For service endpoints that use an HTTP transport and clients that agree to allow the use of HTTP cookies, the HttpCookie enumeration can be utilized to exchange the application context.</span></span> <span data-ttu-id="c87b7-112">Если для распространения контекста используются файлы cookie HTTP, они должны быть защищены с помощью системы безопасности транспорта.</span><span class="sxs-lookup"><span data-stu-id="c87b7-112">When HTTP cookies are used to propagate context, they should be protected using transport security.</span></span> <span data-ttu-id="c87b7-113">Этот механизм может использоваться только с транспортом HTTP.</span><span class="sxs-lookup"><span data-stu-id="c87b7-113">This mechanism cannot be used with non-HTTP transports.</span></span>  
  
 <span data-ttu-id="c87b7-114">Перечисление Контекстсоафеадер предоставляет альтернативу, который реализуется в пользовательском канале контекста и может использоваться с транспортами, отличными от HTTP, и другими шаблонами обмена сообщениями, такими как запрос-ответ и дуплексный сеанс.</span><span class="sxs-lookup"><span data-stu-id="c87b7-114">The ContextSoapHeader enumeration provides an alternative that is implemented in a custom context channel and that can be used with non-HTTP transports and other message exchange pattern, such as request-reply, and a duplex session.</span></span> <span data-ttu-id="c87b7-115">Этот протокол обмена контекстом обеспечивает основанный на SOAP эквивалент возможности, предлагаемой файлами cookie HTTP на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="c87b7-115">This context exchange protocol provides a SOAP-based equivalent of the feature offered by HTTP cookies at the transport layer.</span></span> <span data-ttu-id="c87b7-116">В протоколе для представления контекстной информации вводится новый заголовок SOAP `wsc:Context`.</span><span class="sxs-lookup"><span data-stu-id="c87b7-116">It introduces a new `wsc:Context` SOAP header to represent the context information.</span></span> <span data-ttu-id="c87b7-117">Заголовок `wsc:Context` должен быть защищен от изменения во время передачи по тем же причинам, по которым требуется защита заголовков WS-Addressing: после получения эти заголовки используются для направления сообщений в правильные экземпляры рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="c87b7-117">The `wsc:Context` header must be protected from modification while in transit for the same reason as the WS-Addressing headers must be protected: upon arrival, these headers are used to dispatch the message to the correct workflow instances.</span></span> <span data-ttu-id="c87b7-118">Поэтому требуется, чтобы заголовок `wsc:Context` имел цифровую подпись на уровне SOAP или на транспортном уровне, если привязка обеспечивает возможность защиты сообщений.</span><span class="sxs-lookup"><span data-stu-id="c87b7-118">The `wsc:Context` header is therefore required to be digitally signed at either SOAP or transport level when the binding offers message protection capability.</span></span>  
  
 <span data-ttu-id="c87b7-119">Уровень канала передает контекст на уровень приложения и с уровня приложения с помощью <xref:System.ServiceModel.Channels.ContextMessageProperty>.</span><span class="sxs-lookup"><span data-stu-id="c87b7-119">The channel layer communicates the context to and from the application layer using <xref:System.ServiceModel.Channels.ContextMessageProperty>.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="ContextSoapHeader">
      <MemberSignature Language="C#" Value="ContextSoapHeader" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.Channels.ContextExchangeMechanism ContextSoapHeader = int32(0)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.Channels.ContextExchangeMechanism.ContextSoapHeader" />
      <MemberSignature Language="VB.NET" Value="ContextSoapHeader" />
      <MemberSignature Language="C++ CLI" Value="ContextSoapHeader" />
      <MemberSignature Language="F#" Value="ContextSoapHeader = 0" Usage="System.ServiceModel.Channels.ContextExchangeMechanism.ContextSoapHeader" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.WorkflowServices</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.Channels.ContextExchangeMechanism</ReturnType>
      </ReturnValue>
      <MemberValue>0</MemberValue>
      <Docs>
        <summary><span data-ttu-id="c87b7-120">Для обмена контекстом используется заголовок SOAP.</span><span class="sxs-lookup"><span data-stu-id="c87b7-120">A SOAP header is used to exchange context.</span></span> <span data-ttu-id="c87b7-121">Это механизм обмена по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c87b7-121">This is the default exchange mechanism.</span></span></summary>
      </Docs>
    </Member>
    <Member MemberName="HttpCookie">
      <MemberSignature Language="C#" Value="HttpCookie" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.Channels.ContextExchangeMechanism HttpCookie = int32(1)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.Channels.ContextExchangeMechanism.HttpCookie" />
      <MemberSignature Language="VB.NET" Value="HttpCookie" />
      <MemberSignature Language="C++ CLI" Value="HttpCookie" />
      <MemberSignature Language="F#" Value="HttpCookie = 1" Usage="System.ServiceModel.Channels.ContextExchangeMechanism.HttpCookie" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.WorkflowServices</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.Channels.ContextExchangeMechanism</ReturnType>
      </ReturnValue>
      <MemberValue>1</MemberValue>
      <Docs>
        <summary><span data-ttu-id="c87b7-122">Для обмена контекстом используется файл cookie HTTP.</span><span class="sxs-lookup"><span data-stu-id="c87b7-122">An HTTP cookie is used to exchange context.</span></span></summary>
      </Docs>
    </Member>
  </Members>
</Type>
