<Type Name="SoapExtension" FullName="System.Web.Services.Protocols.SoapExtension">
  <Metadata><Meta Name="ms.openlocfilehash" Value="ddbecf0fb6f86cf2309eb940f31b0df1734172db" /><Meta Name="ms.sourcegitcommit" Value="88014e1c5440e3df4f66ef04393854d15b1fd534" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="09/05/2019" /><Meta Name="ms.locfileid" Value="70564085" /></Metadata><TypeSignature Language="C#" Value="public abstract class SoapExtension" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SoapExtension extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.Services.Protocols.SoapExtension" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SoapExtension" />
  <TypeSignature Language="C++ CLI" Value="public ref class SoapExtension abstract" />
  <TypeSignature Language="F#" Value="type SoapExtension = class" />
  <AssemblyInfo>
    <AssemblyName>System.Web.Services</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="0afd3-101">Базовый класс расширений SOAP для веб-служб XML, создаваемых с помощью ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0afd3-101">The base class for SOAP extensions for XML Web services created using ASP.NET.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-102">ASP.NET позволяет создавать инфраструктуру, связанную с SOAP, с помощью механизма расширяемости.</span><span class="sxs-lookup"><span data-stu-id="0afd3-102">ASP.NET allows a SOAP-related infrastructure to be built by means of an extensibility mechanism.</span></span> <span data-ttu-id="0afd3-103">Архитектура расширения SOAP ASP.NET основана на расширении, позволяющем проверять или изменять сообщения на конкретных этапах обработки сообщений на клиенте или сервере.</span><span class="sxs-lookup"><span data-stu-id="0afd3-103">The ASP.NET SOAP extension architecture revolves around an extension that can inspect or modify a message at specific stages in message processing on either the client or the server.</span></span>  
  
 <span data-ttu-id="0afd3-104">Расширения SOAP ASP.NET являются производными от <xref:System.Web.Services.Protocols.SoapExtension> класса.</span><span class="sxs-lookup"><span data-stu-id="0afd3-104">ASP.NET SOAP extensions derive from the <xref:System.Web.Services.Protocols.SoapExtension> class.</span></span> <span data-ttu-id="0afd3-105">Методы <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> и <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A>  предоставляют альтернативные механизмы инициализации расширения SOAP для повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="0afd3-105">The <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> and <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> methods provide alternative mechanisms for initializing the SOAP extension to enhance performance.</span></span> <span data-ttu-id="0afd3-106"><xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>— Это сердце большинства расширений SOAP, так как метод вызывается на каждом этапе, определенном <xref:System.Web.Services.Protocols.SoapMessageStage>в, что позволяет расширению SOAP выполнять требуемое поведение конкретного расширения SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-106"><xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A> is the heart of most SOAP extensions, as the method is called at each stage defined in <xref:System.Web.Services.Protocols.SoapMessageStage>, allowing the SOAP extension to perform the desired behavior of that specific SOAP extension.</span></span> <span data-ttu-id="0afd3-107">Для расширений SOAP, требующих изменения запроса SOAP или ответа SOAP, <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> предоставляет возможность получения предложенных данных для передачи по сети.</span><span class="sxs-lookup"><span data-stu-id="0afd3-107">For SOAP extensions that need to modify the SOAP request or SOAP response, <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> provides an opportunity to receive the proposed data to be sent across the wire.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0afd3-108">Следующее `TraceExtension` расширение SOAP выводит запрос SOAP и ответ SOAP к указанному файлу при применении к методу веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-108">The following `TraceExtension` SOAP extension outputs the SOAP request and SOAP response to a specified file when applied to an XML Web service method.</span></span> <span data-ttu-id="0afd3-109">Если следующее расширение SOAP установлено для запуска с веб-службой XML, учетная запись ASPNET должна иметь разрешение на запись в каталог, в который записывается файл журнала.</span><span class="sxs-lookup"><span data-stu-id="0afd3-109">If the following SOAP extension is installed to run with an XML Web service, the ASPNET user account must have permission to write to the directory in which the log file is written.</span></span>  
  
 [!code-cpp[Classic SoapExtension Example#1](~/samples/snippets/cpp/VS_Snippets_Remoting/Classic SoapExtension Example/CPP/source.cpp#1)]
 [!code-csharp[Classic SoapExtension Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic SoapExtension Example/CS/source.cs#1)]
 [!code-vb[Classic SoapExtension Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic SoapExtension Example/VB/source.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.Services.Protocols.SoapMessageStage" />
    <altmember cref="T:System.Web.Services.Protocols.SoapExtensionAttribute" />
    <altmember cref="T:System.Web.Services.Protocols.LogicalMethodInfo" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SoapExtension ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SoapExtension();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="0afd3-110">Инициализирует новый экземпляр класса <see cref="T:System.Web.Services.Protocols.SoapExtension" />.</span><span class="sxs-lookup"><span data-stu-id="0afd3-110">Initializes a new instance of the <see cref="T:System.Web.Services.Protocols.SoapExtension" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ChainStream">
      <MemberSignature Language="C#" Value="public virtual System.IO.Stream ChainStream (System.IO.Stream stream);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IO.Stream ChainStream(class System.IO.Stream stream) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.ChainStream(System.IO.Stream)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IO::Stream ^ ChainStream(System::IO::Stream ^ stream);" />
      <MemberSignature Language="F#" Value="abstract member ChainStream : System.IO.Stream -&gt; System.IO.Stream&#xA;override this.ChainStream : System.IO.Stream -&gt; System.IO.Stream" Usage="soapExtension.ChainStream stream" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="stream" Type="System.IO.Stream" />
      </Parameters>
      <Docs>
        <param name="stream"><span data-ttu-id="0afd3-111">Буфер памяти, содержащий запрос или ответ SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-111">A memory buffer containing the SOAP request or response.</span></span></param>
        <summary><span data-ttu-id="0afd3-112">При переопределении в производном классе позволяет расширению SOAP получать доступ к буферу памяти, хранящему запрос и ответ SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-112">When overridden in a derived class, allows a SOAP extension access to the memory buffer containing the SOAP request or response.</span></span></summary>
        <returns><span data-ttu-id="0afd3-113">Объект <see cref="T:System.IO.Stream" />, представляющий новый буфер памяти, который это расширение SOAP может изменять.</span><span class="sxs-lookup"><span data-stu-id="0afd3-113">A <see cref="T:System.IO.Stream" /> representing a new memory buffer that this SOAP extension can modify.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-114"><xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A>гарантирует, что расширения SOAP с наивысшим приоритетом могут изменить фактические данные, ближайшие к сообщению SOAP, отправленному или возвращаемому по сети.</span><span class="sxs-lookup"><span data-stu-id="0afd3-114"><xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> ensures that SOAP extensions with the highest priority can modify the actual data closest to the SOAP message sent or returned over the wire.</span></span>  
  
 <span data-ttu-id="0afd3-115">Расширения SOAP должны <xref:System.IO.Stream> сохранять ссылки, переданные в <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> , и <xref:System.IO.Stream> возвращаемые из. <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A></span><span class="sxs-lookup"><span data-stu-id="0afd3-115">SOAP extensions should save references of the <xref:System.IO.Stream> passed into <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> and the <xref:System.IO.Stream> returned from <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A>.</span></span> <span data-ttu-id="0afd3-116">Если расширение SOAP настроено для работы с <xref:System.IO.Stream> методом веб-службы XML, переданный в <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> содержит сериализованный запрос SOAP на <xref:System.Web.Services.Protocols.SoapMessageStage.BeforeDeserialize> <xref:System.Web.Services.Protocols.SoapMessageStage>.</span><span class="sxs-lookup"><span data-stu-id="0afd3-116">If the SOAP extension is configured to run with a XML Web service method, the <xref:System.IO.Stream> passed into <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> contains the serialized SOAP request at the <xref:System.Web.Services.Protocols.SoapMessageStage.BeforeDeserialize><xref:System.Web.Services.Protocols.SoapMessageStage>.</span></span> <span data-ttu-id="0afd3-117">Аналогичным образом <xref:System.IO.Stream> , ссылка, <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> возвращенная из, записывается в, когда выполняется сериализация и, таким образом, <xref:System.Web.Services.Protocols.SoapMessageStage.AfterSerialize>содержит сериализованный ответ SOAP в <xref:System.Web.Services.Protocols.SoapMessageStage>.</span><span class="sxs-lookup"><span data-stu-id="0afd3-117">Similarly, the <xref:System.IO.Stream> reference returned from <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> is written into when the serialization occurs and thus contains the serialized SOAP response in the <xref:System.Web.Services.Protocols.SoapMessageStage.AfterSerialize><xref:System.Web.Services.Protocols.SoapMessageStage>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0afd3-118"><xref:System.IO.Stream> В следующем примере <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> выполняется сохранение передаваемых в и <xref:System.IO.Stream> возвращаемых элементов в переменных `oldStream` членов и `newStream`соответственно.</span><span class="sxs-lookup"><span data-stu-id="0afd3-118">The following example saves both the <xref:System.IO.Stream> passed into <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> and the <xref:System.IO.Stream> returned from <xref:System.Web.Services.Protocols.SoapExtension.ChainStream%2A> in the member variables `oldStream` and `newStream`, respectively.</span></span>  
  
 [!code-cpp[Classic SoapExtension.ChainStream Example#1](~/samples/snippets/cpp/VS_Snippets_Remoting/Classic SoapExtension.ChainStream Example/CPP/source.cpp#1)]
 [!code-csharp[Classic SoapExtension.ChainStream Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic SoapExtension.ChainStream Example/CS/source.cs#1)]
 [!code-vb[Classic SoapExtension.ChainStream Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic SoapExtension.ChainStream Example/VB/source.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetInitializer">
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="0afd3-119">При переопределении в производном классе позволяет расширению SOAP инициализировать данные, относящиеся к методу веб-службы XML с минимальной потерей в производительности.</span><span class="sxs-lookup"><span data-stu-id="0afd3-119">When overridden in a derived class, allows a SOAP extension to initialize data specific to an XML Web service method at a one time performance cost.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetInitializer">
      <MemberSignature Language="C#" Value="public abstract object GetInitializer (Type serviceType);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance object GetInitializer(class System.Type serviceType) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Type)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetInitializer (serviceType As Type) As Object" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Object ^ GetInitializer(Type ^ serviceType);" />
      <MemberSignature Language="F#" Value="abstract member GetInitializer : Type -&gt; obj" Usage="soapExtension.GetInitializer serviceType" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="serviceType" Type="System.Type" />
      </Parameters>
      <Docs>
        <param name="serviceType"><span data-ttu-id="0afd3-120">Тип класса, реализующего веб-службу XML, к которой применено расширение SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-120">The type of the class implementing the XML Web service to which the SOAP extension is applied.</span></span></param>
        <summary><span data-ttu-id="0afd3-121">При переопределении в производном классе позволяет расширению SOAP инициализировать данные, относящиеся к классу, реализующему веб-службу XML с минимальной потерей в производительности.</span><span class="sxs-lookup"><span data-stu-id="0afd3-121">When overridden in a derived class, allows a SOAP extension to initialize data specific to a class implementing an XML Web service at a one time performance cost.</span></span></summary>
        <returns><span data-ttu-id="0afd3-122">Объект <see cref="T:System.Object" />, инициализируемый расширением SOAP для кэширования.</span><span class="sxs-lookup"><span data-stu-id="0afd3-122">The <see cref="T:System.Object" /> that the SOAP extension initializes for caching.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-123">Перегрузка <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> , вызываемая ASP.NET, зависит от того, как было указано расширение SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-123">The overload of <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> that gets called by ASP.NET depends on how the SOAP extension was specified.</span></span> <span data-ttu-id="0afd3-124">Существует два метода для указания расширения SOAP:</span><span class="sxs-lookup"><span data-stu-id="0afd3-124">There are two methods for specifying a SOAP extension:</span></span>  
  
-   <span data-ttu-id="0afd3-125">Примените настраиваемый атрибут, производный <xref:System.Web.Services.Protocols.SoapExtensionAttribute>от, к отдельному методу веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-125">Apply a custom attribute, deriving from <xref:System.Web.Services.Protocols.SoapExtensionAttribute>, to the individual XML Web service method.</span></span>  
  
-   <span data-ttu-id="0afd3-126">Добавьте ссылку в файлы конфигурации Web. config или App. config.</span><span class="sxs-lookup"><span data-stu-id="0afd3-126">Add a reference in either the web.config or app.config configuration files.</span></span>  
  
 <span data-ttu-id="0afd3-127">При добавлении ссылки на один из файлов конфигурации расширение SOAP выполняется для всех веб-служб XML в области этого файла конфигурации.</span><span class="sxs-lookup"><span data-stu-id="0afd3-127">If you add a reference to one of the configuration files, the SOAP extension runs for all XML Web services within the scope of that configuration file.</span></span> <span data-ttu-id="0afd3-128">При указании расширения SOAP путем ссылки на файл конфигурации ASP.NET вызывает <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> перегрузку, которая передается <xref:System.Type>в.</span><span class="sxs-lookup"><span data-stu-id="0afd3-128">When specifying, a SOAP extension by referencing a configuration file, ASP.NET invokes the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> overload that passes in a <xref:System.Type>.</span></span> <span data-ttu-id="0afd3-129">При указании расширения путем применения настраиваемого атрибута ASP.NET вызывает метод <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> , который передает <xref:System.Web.Services.Protocols.LogicalMethodInfo> в и <xref:System.Web.Services.Protocols.SoapExtensionAttribute>.</span><span class="sxs-lookup"><span data-stu-id="0afd3-129">When specifying an extension by applying a custom attribute, ASP.NET invokes the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> that passes in a <xref:System.Web.Services.Protocols.LogicalMethodInfo> and a <xref:System.Web.Services.Protocols.SoapExtensionAttribute>.</span></span>  
  
 <span data-ttu-id="0afd3-130">Дополнительные сведения о добавлении расширений SOAP в файл конфигурации см. в разделе [Параметры конфигурации для веб-служб XML, созданных с помощью ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/b2c0ew36(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="0afd3-130">For details on adding SOAP extensions to a configuration file, see [Configuration Options for XML Web Services Created Using ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/b2c0ew36(v=vs.100)).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0afd3-131">В следующем коде показано, как один из них может сохранять данные расширения SOAP для каждой веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-131">The following code demonstrates how one can save SOAP extension specific data on a per XML Web service basis.</span></span> <span data-ttu-id="0afd3-132">Если расширение SOAP настроено с использованием файла конфигурации вместо атрибута, расширение SOAP может хранить данные для каждого класса, к которому применяется расширение SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-132">If the SOAP extension is configured using a configuration file instead of an attribute, the SOAP extension can store data for each class to which the SOAP extension is applied.</span></span> <span data-ttu-id="0afd3-133">В этом примере сохраняется имя файла, в который записывается сообщение SOAP, отправленное в и из метода веб-службы XML, на основе имени класса, реализующего веб-службу XML, в кэш.</span><span class="sxs-lookup"><span data-stu-id="0afd3-133">This example saves the name of a file in which to log the SOAP messages sent to and from the XML Web service method based on the name of the class implementing the XML Web service into the cache.</span></span> <span data-ttu-id="0afd3-134">Этот пример кода является частью полного примера кода для расширения SOAP трацеекстенсион, которое можно найти в <xref:System.Web.Services.Protocols.SoapExtension> обзоре класса.</span><span class="sxs-lookup"><span data-stu-id="0afd3-134">This code example is part of a full code example for a TraceExtension SOAP extension that can be found in the <xref:System.Web.Services.Protocols.SoapExtension> class overview.</span></span>  
  
 [!code-cpp[SoapExtension.GetInitializer-Type#1](~/samples/snippets/cpp/VS_Snippets_Remoting/SoapExtension.GetInitializer-Type/CPP/traceextension.cpp#1)]
 [!code-csharp[SoapExtension.GetInitializer-Type#1](~/samples/snippets/csharp/VS_Snippets_Remoting/SoapExtension.GetInitializer-Type/CS/traceextension.cs#1)]
 [!code-vb[SoapExtension.GetInitializer-Type#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/SoapExtension.GetInitializer-Type/VB/traceextension.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetInitializer">
      <MemberSignature Language="C#" Value="public abstract object GetInitializer (System.Web.Services.Protocols.LogicalMethodInfo methodInfo, System.Web.Services.Protocols.SoapExtensionAttribute attribute);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance object GetInitializer(class System.Web.Services.Protocols.LogicalMethodInfo methodInfo, class System.Web.Services.Protocols.SoapExtensionAttribute attribute) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Web.Services.Protocols.LogicalMethodInfo,System.Web.Services.Protocols.SoapExtensionAttribute)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetInitializer (methodInfo As LogicalMethodInfo, attribute As SoapExtensionAttribute) As Object" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Object ^ GetInitializer(System::Web::Services::Protocols::LogicalMethodInfo ^ methodInfo, System::Web::Services::Protocols::SoapExtensionAttribute ^ attribute);" />
      <MemberSignature Language="F#" Value="abstract member GetInitializer : System.Web.Services.Protocols.LogicalMethodInfo * System.Web.Services.Protocols.SoapExtensionAttribute -&gt; obj" Usage="soapExtension.GetInitializer (methodInfo, attribute)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Object</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="methodInfo" Type="System.Web.Services.Protocols.LogicalMethodInfo" />
        <Parameter Name="attribute" Type="System.Web.Services.Protocols.SoapExtensionAttribute" />
      </Parameters>
      <Docs>
        <param name="methodInfo"><span data-ttu-id="0afd3-135">Объект <see cref="T:System.Web.Services.Protocols.LogicalMethodInfo" />, представляющий прототип конкретной функции для метода веб-службы XML, к которому применяется расширение SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-135">A <see cref="T:System.Web.Services.Protocols.LogicalMethodInfo" /> representing the specific function prototype for the XML Web service method to which the SOAP extension is applied.</span></span></param>
        <param name="attribute"><span data-ttu-id="0afd3-136">Атрибут <see cref="T:System.Web.Services.Protocols.SoapExtensionAttribute" />, применяемый к методу веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-136">The <see cref="T:System.Web.Services.Protocols.SoapExtensionAttribute" /> applied to the XML Web service method.</span></span></param>
        <summary><span data-ttu-id="0afd3-137">При переопределении в производном классе позволяет расширению SOAP инициализировать данные, относящиеся к методу веб-службы XML, используя атрибут, применяемый к методу веб-службы XML, с минимальной потерей в производительности.</span><span class="sxs-lookup"><span data-stu-id="0afd3-137">When overridden in a derived class, allows a SOAP extension to initialize data specific to an XML Web service method using an attribute applied to the XML Web service method at a one time performance cost.</span></span></summary>
        <returns><span data-ttu-id="0afd3-138">Объект <see cref="T:System.Object" />, инициализируемый расширением SOAP для кэширования.</span><span class="sxs-lookup"><span data-stu-id="0afd3-138">The <see cref="T:System.Object" /> that the SOAP extension initializes for caching.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-139">Если расширение SOAP настроено с помощью файла конфигурации, см <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> <xref:System.Type>. перегрузку, которая принимает.</span><span class="sxs-lookup"><span data-stu-id="0afd3-139">If the SOAP extension is configured using a configuration file see the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> overload that accepts a <xref:System.Type>.</span></span>  
  
 <span data-ttu-id="0afd3-140">Расширение SOAP имеет три возможности для инициализации данных, и все они имеют разные цели.</span><span class="sxs-lookup"><span data-stu-id="0afd3-140">A SOAP extension has three opportunities to initialize data and they all have different purposes:</span></span>  
  
-   <span data-ttu-id="0afd3-141">Конструктор класса — конструктор класса вызывается каждый раз при создании экземпляра расширения SOAP и обычно используется для инициализации переменных-членов.</span><span class="sxs-lookup"><span data-stu-id="0afd3-141">Class constructor - The class constructor is called every time a SOAP extension is instantiated and is typically used to initialize member variables.</span></span>  
  
-   <span data-ttu-id="0afd3-142"><xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> - <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A>, однако вызывается только один раз, при первом запросе SOAP к методу веб-служб XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-142"><xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> - <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A>, however, is called just once, the first time a SOAP request is made to an XML Web services method.</span></span> <span data-ttu-id="0afd3-143">Если к методу веб-службы XML применяется настраиваемый атрибут, <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> вызывается метод.</span><span class="sxs-lookup"><span data-stu-id="0afd3-143">If a custom attribute is applied to the XML Web service method, the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> method is invoked.</span></span> <span data-ttu-id="0afd3-144">Это позволяет расширению SOAP опрашивать <xref:System.Web.Services.Protocols.LogicalMethodInfo> метод веб-службы XML для получения сведений о прототипе или для доступа к данным, относящимся к расширению, передаваемым классом, производным от. <xref:System.Web.Services.Protocols.SoapExtensionAttribute></span><span class="sxs-lookup"><span data-stu-id="0afd3-144">This allows the SOAP extension to interrogate the <xref:System.Web.Services.Protocols.LogicalMethodInfo> of an XML Web service method for prototype information or to access extension-specific data passed by a class deriving from <xref:System.Web.Services.Protocols.SoapExtensionAttribute>.</span></span> <span data-ttu-id="0afd3-145">Возвращаемое значение кэшируется ASP.NET и передается в <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> последующие методы.</span><span class="sxs-lookup"><span data-stu-id="0afd3-145">The return value is cached by ASP.NET and passed into subsequent <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> methods.</span></span> <span data-ttu-id="0afd3-146">Таким образом, инициализация <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> , выполненная в, инкапсулируется по сути в одну временную производительность.</span><span class="sxs-lookup"><span data-stu-id="0afd3-146">Therefore, initialization done in <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> is encapsulated essentially into a one-time performance hit.</span></span>  
  
-   <span data-ttu-id="0afd3-147"><xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> - <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A>вызывается каждый раз при выполнении запроса SOAP к методу веб-службы XML, но имеет преимущество над конструктором класса в том, что <xref:System.Object> в него передается инициализированный в. <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A></span><span class="sxs-lookup"><span data-stu-id="0afd3-147"><xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> - <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> is called every time a SOAP request is made to an XML Web service method, but has an advantage over the class constructor, in that the <xref:System.Object> initialized in <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> is passed to it.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0afd3-148">В следующем коде показано, как можно получить данные, относящиеся к расширению SOAP, передаваемые с помощью класса, <xref:System.Web.Services.Protocols.SoapExtensionAttribute>производного от, а затем кэшировать <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A>эти данные в.</span><span class="sxs-lookup"><span data-stu-id="0afd3-148">The following code demonstrates how you can obtain SOAP extension-specific data passed in using a class that derives from <xref:System.Web.Services.Protocols.SoapExtensionAttribute>, and then cache that data in <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A>.</span></span> <span data-ttu-id="0afd3-149">Этот пример кода является частью полного примера кода для `TraceExtension` расширения SOAP, которое можно найти <xref:System.Web.Services.Protocols.SoapExtension> в обзоре класса.</span><span class="sxs-lookup"><span data-stu-id="0afd3-149">This code example is part of a full code example for a `TraceExtension` SOAP extension that can be found in the <xref:System.Web.Services.Protocols.SoapExtension> class overview.</span></span> <span data-ttu-id="0afd3-150">Этот пример кода основан на `TraceExtensionAttribute` переданном `attribute` параметре.</span><span class="sxs-lookup"><span data-stu-id="0afd3-150">This code example relies on a `TraceExtensionAttribute` being passed into the `attribute` parameter.</span></span> <span data-ttu-id="0afd3-151">В полном примере `TraceExtensionAttribute` кода является производным от <xref:System.Web.Services.Protocols.SoapExtensionAttribute> и добавляет `Filename` свойство, которое является <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> хранилищем в кэше.</span><span class="sxs-lookup"><span data-stu-id="0afd3-151">In the full code example, `TraceExtensionAttribute` derives from <xref:System.Web.Services.Protocols.SoapExtensionAttribute> and adds a `Filename` property, which is what <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> stores in the cache.</span></span>  
  
 [!code-cpp[Classic SoapExtension.GetInitializer Example#1](~/samples/snippets/cpp/VS_Snippets_Remoting/Classic SoapExtension.GetInitializer Example/CPP/source.cpp#1)]
 [!code-csharp[Classic SoapExtension.GetInitializer Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic SoapExtension.GetInitializer Example/CS/source.cs#1)]
 [!code-vb[Classic SoapExtension.GetInitializer Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic SoapExtension.GetInitializer Example/VB/source.vb#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.Services.Protocols.SoapExtension.Initialize(System.Object)" />
        <altmember cref="T:System.Web.Services.Protocols.LogicalMethodInfo" />
        <altmember cref="T:System.Web.Services.Protocols.SoapExtensionAttribute" />
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public abstract void Initialize (object initializer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Initialize(object initializer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.Initialize(System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub Initialize (initializer As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void Initialize(System::Object ^ initializer);" />
      <MemberSignature Language="F#" Value="abstract member Initialize : obj -&gt; unit" Usage="soapExtension.Initialize initializer" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="initializer" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="initializer"><span data-ttu-id="0afd3-152">Объект <see cref="T:System.Object" />, возвращаемый методом  <see cref="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Web.Services.Protocols.LogicalMethodInfo,System.Web.Services.Protocols.SoapExtensionAttribute)" />, кэшируется ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0afd3-152">The <see cref="T:System.Object" /> returned from <see cref="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Web.Services.Protocols.LogicalMethodInfo,System.Web.Services.Protocols.SoapExtensionAttribute)" /> cached by ASP.NET.</span></span></param>
        <summary><span data-ttu-id="0afd3-153">При переопределении в производном классе позволяет расширению SOAP инициализировать свои данные с использованием данных, сохраненных в кэше методом <see cref="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Web.Services.Protocols.LogicalMethodInfo,System.Web.Services.Protocols.SoapExtensionAttribute)" />.</span><span class="sxs-lookup"><span data-stu-id="0afd3-153">When overridden in a derived class, allows a SOAP extension to initialize itself using the data cached in the <see cref="M:System.Web.Services.Protocols.SoapExtension.GetInitializer(System.Web.Services.Protocols.LogicalMethodInfo,System.Web.Services.Protocols.SoapExtensionAttribute)" /> method.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-154">Расширение SOAP имеет три возможности для инициализации данных, и все они имеют разные цели.</span><span class="sxs-lookup"><span data-stu-id="0afd3-154">A SOAP extension has three opportunities to initialize data and they all have different purposes:</span></span>  
  
-   <span data-ttu-id="0afd3-155">Конструктор класса — конструктор класса вызывается каждый раз при создании экземпляра расширения SOAP и обычно используется для инициализации переменных-членов.</span><span class="sxs-lookup"><span data-stu-id="0afd3-155">Class constructor - The class constructor is called every time a SOAP extension is instantiated and is typically used to initialize member variables.</span></span>  
  
-   <span data-ttu-id="0afd3-156"><xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A>— Этот метод вызывается только один раз, при первом запросе SOAP к методу веб-служб XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-156"><xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> - This method is called just once, the first time a SOAP request is made to an XML Web services method.</span></span> <span data-ttu-id="0afd3-157">Если к методу веб-службы XML применяется настраиваемый атрибут, <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> вызывается метод.</span><span class="sxs-lookup"><span data-stu-id="0afd3-157">If a custom attribute is applied to the XML Web service method, the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> method is invoked.</span></span> <span data-ttu-id="0afd3-158">Это позволяет расширению SOAP опрашивать <xref:System.Web.Services.Protocols.LogicalMethodInfo> метод веб-службы XML для получения сведений о прототипе или для доступа к данным, относящимся к расширению, передаваемым классом, производным от. <xref:System.Web.Services.Protocols.SoapExtensionAttribute></span><span class="sxs-lookup"><span data-stu-id="0afd3-158">This allows the SOAP extension to interrogate the <xref:System.Web.Services.Protocols.LogicalMethodInfo> of an XML Web service method for prototype information or to access extension-specific data passed by a class deriving from <xref:System.Web.Services.Protocols.SoapExtensionAttribute>.</span></span> <span data-ttu-id="0afd3-159">Возвращаемое значение кэшируется ASP.NET и передается в <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> последующие методы.</span><span class="sxs-lookup"><span data-stu-id="0afd3-159">The return value is cached by ASP.NET and passed into subsequent <xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> methods.</span></span> <span data-ttu-id="0afd3-160">Таким образом, инициализация <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> , выполненная в, инкапсулируется по сути в одну временную производительность.</span><span class="sxs-lookup"><span data-stu-id="0afd3-160">Therefore, initialization done in <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> is encapsulated essentially into a one-time performance hit.</span></span>  
  
-   <span data-ttu-id="0afd3-161"><xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A>— Этот метод вызывается каждый раз при выполнении запроса SOAP к методу веб-службы XML, но имеет преимущество над конструктором класса, в котором в него <xref:System.Object> передается <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> инициализированный объект.</span><span class="sxs-lookup"><span data-stu-id="0afd3-161"><xref:System.Web.Services.Protocols.SoapExtension.Initialize%2A> - This method is called every time a SOAP request is made to an XML Web service method, but has an advantage over the class constructor, in that the <xref:System.Object> initialized in <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> is passed to it.</span></span>
  
> [!NOTE]
>  <span data-ttu-id="0afd3-162">Кроме того, можно добавить расширение SOAP, не производное <xref:System.Web.Services.Protocols.SoapExtensionAttribute> от, [ \<с помощью элемента соапекстенсионтипес >](https://msdn.microsoft.com/library/7a373a98-6d82-4f8d-a6fc-2996da3fd54c) в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="0afd3-162">You can also add a SOAP extension without deriving from <xref:System.Web.Services.Protocols.SoapExtensionAttribute> by using the [\<soapExtensionTypes> Element](https://msdn.microsoft.com/library/7a373a98-6d82-4f8d-a6fc-2996da3fd54c) in a configuration file.</span></span> <span data-ttu-id="0afd3-163">Дополнительные сведения см. в разделе [ \<соапекстенсионтипес >](https://msdn.microsoft.com/library/7a373a98-6d82-4f8d-a6fc-2996da3fd54c) и [изменение сообщений SOAP с помощью расширений SOAP](https://msdn.microsoft.com/library/97d81ace-95e7-4acc-ae39-9692a0021e95).</span><span class="sxs-lookup"><span data-stu-id="0afd3-163">For details, see [\<soapExtensionTypes> Element](https://msdn.microsoft.com/library/7a373a98-6d82-4f8d-a6fc-2996da3fd54c) and [SOAP Message Modification Using SOAP Extensions](https://msdn.microsoft.com/library/97d81ace-95e7-4acc-ae39-9692a0021e95).</span></span>  
  
## Examples  
 <span data-ttu-id="0afd3-164">В следующем примере показано, как можно использовать данные, кэшированные во <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> время выполнения метода.</span><span class="sxs-lookup"><span data-stu-id="0afd3-164">The following example demonstrates how you can use the data cached during the <xref:System.Web.Services.Protocols.SoapExtension.GetInitializer%2A> method.</span></span>  
  
 [!code-cpp[Classic SoapExtension.Initialize Example#1](~/samples/snippets/cpp/VS_Snippets_Remoting/Classic SoapExtension.Initialize Example/CPP/source.cpp#1)]
 [!code-csharp[Classic SoapExtension.Initialize Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic SoapExtension.Initialize Example/CS/source.cs#1)]
 [!code-vb[Classic SoapExtension.Initialize Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic SoapExtension.Initialize Example/VB/source.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ProcessMessage">
      <MemberSignature Language="C#" Value="public abstract void ProcessMessage (System.Web.Services.Protocols.SoapMessage message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ProcessMessage(class System.Web.Services.Protocols.SoapMessage message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.Protocols.SoapExtension.ProcessMessage(System.Web.Services.Protocols.SoapMessage)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub ProcessMessage (message As SoapMessage)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void ProcessMessage(System::Web::Services::Protocols::SoapMessage ^ message);" />
      <MemberSignature Language="F#" Value="abstract member ProcessMessage : System.Web.Services.Protocols.SoapMessage -&gt; unit" Usage="soapExtension.ProcessMessage message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.Web.Services.Protocols.SoapMessage" />
      </Parameters>
      <Docs>
        <param name="message"><span data-ttu-id="0afd3-165">Обрабатываемый тип <see cref="T:System.Web.Services.Protocols.SoapMessage" />.</span><span class="sxs-lookup"><span data-stu-id="0afd3-165">The <see cref="T:System.Web.Services.Protocols.SoapMessage" /> to process.</span></span></param>
        <summary><span data-ttu-id="0afd3-166">При переопределении в производном классе позволяет расширению SOAP получать сообщение <see cref="T:System.Web.Services.Protocols.SoapMessage" /> для обработки на каждой стадии <see cref="T:System.Web.Services.Protocols.SoapMessageStage" />.</span><span class="sxs-lookup"><span data-stu-id="0afd3-166">When overridden in a derived class, allows a SOAP extension to receive a <see cref="T:System.Web.Services.Protocols.SoapMessage" /> to process at each <see cref="T:System.Web.Services.Protocols.SoapMessageStage" />.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0afd3-167"><xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>вызывается на всех <xref:System.Web.Services.Protocols.SoapMessageStage> стадиях для расширений SOAP, применяемых к веб-службам XML, созданным с помощью ASP.NET и их клиентов.</span><span class="sxs-lookup"><span data-stu-id="0afd3-167"><xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A> is called at all <xref:System.Web.Services.Protocols.SoapMessageStage> stages for SOAP extensions applied to both XML Web services created using ASP.NET and their clients.</span></span> <span data-ttu-id="0afd3-168">В каждом <xref:System.Web.Services.Protocols.SoapMessageStage>экземпляре класса, производного от <xref:System.Web.Services.Protocols.SoapMessage> , передается <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>.</span><span class="sxs-lookup"><span data-stu-id="0afd3-168">At each <xref:System.Web.Services.Protocols.SoapMessageStage>, an instance of a class deriving from <xref:System.Web.Services.Protocols.SoapMessage> is passed to <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>.</span></span> <span data-ttu-id="0afd3-169">Если расширение SOAP выполняется на клиенте веб-службы XML, <xref:System.Web.Services.Protocols.SoapClientMessage> объект передается в <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>; в противном случае <xref:System.Web.Services.Protocols.SoapServerMessage> передается объект.</span><span class="sxs-lookup"><span data-stu-id="0afd3-169">If the SOAP extension is running on the XML Web service client, then a <xref:System.Web.Services.Protocols.SoapClientMessage> object is passed into <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A>; otherwise a <xref:System.Web.Services.Protocols.SoapServerMessage> object is passed in.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0afd3-170">В следующем примере показана <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A> часть расширения SOAP, которая регистрирует SOAP-запросы и ответы SOAP.</span><span class="sxs-lookup"><span data-stu-id="0afd3-170">The following example is the <xref:System.Web.Services.Protocols.SoapExtension.ProcessMessage%2A> portion of a SOAP extension that logs SOAP requests and SOAP responses.</span></span> <span data-ttu-id="0afd3-171">Записывая <xref:System.Web.Services.Protocols.SoapMessage> <xref:System.Web.Services.Protocols.SoapMessageStage.AfterSerialize> <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> в, расширение SOAP обращается к перенаправленному каналу. <xref:System.Web.Services.Protocols.SoapMessageStage></span><span class="sxs-lookup"><span data-stu-id="0afd3-171">By logging the <xref:System.Web.Services.Protocols.SoapMessage> at the <xref:System.Web.Services.Protocols.SoapMessageStage.AfterSerialize><xref:System.Web.Services.Protocols.SoapMessageStage>, the SOAP extension accesses the <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> to be sent over the wire.</span></span> <span data-ttu-id="0afd3-172">Если расширение SOAP применяется к методу веб-службы XML, созданному с помощью ASP.NET, <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> то содержит ответ SOAP от метода веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-172">If the SOAP extension is applied to an XML Web service method created using ASP.NET, then the <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> contains the SOAP response from the XML Web service method.</span></span> <span data-ttu-id="0afd3-173">Если расширение SOAP применяется к клиенту веб-службы XML, объект <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> содержит запрос SOAP к методу веб-службы XML.</span><span class="sxs-lookup"><span data-stu-id="0afd3-173">If the SOAP extension is applied to an XML Web service client, the <xref:System.Web.Services.Protocols.SoapMessage.Stream%2A> contains the SOAP request to an XML Web service method.</span></span>  
  
 <span data-ttu-id="0afd3-174">Пример классической Соапекстенсион. ProcessMessage. 1</span><span class="sxs-lookup"><span data-stu-id="0afd3-174">Classic SoapExtension.ProcessMessage Example#1</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
