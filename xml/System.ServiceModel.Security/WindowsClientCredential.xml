<Type Name="WindowsClientCredential" FullName="System.ServiceModel.Security.WindowsClientCredential">
  <Metadata><Meta Name="ms.openlocfilehash" Value="17aa4916ee48a89f1e04fbcea57811d4c4c1db02" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69103501" /></Metadata><TypeSignature Language="C#" Value="public sealed class WindowsClientCredential" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WindowsClientCredential extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.Security.WindowsClientCredential" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WindowsClientCredential" />
  <TypeSignature Language="C++ CLI" Value="public ref class WindowsClientCredential sealed" />
  <TypeSignature Language="F#" Value="type WindowsClientCredential = class" />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.5.0.1</AssemblyVersion>
    <AssemblyVersion>4.5.0.3</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="2ffd8-101">Позволяет указать свойства, связанные с учетными данными Windows, используемыми для представления клиента.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-101">Allows you to specify properties related to Windows credentials to be used to represent the client.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ffd8-102"><xref:System.ServiceModel.Security.WindowsClientCredential> позволяет задать свойства клиента Windows, которые будут использоваться при взаимодействии со службой.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-102">The <xref:System.ServiceModel.Security.WindowsClientCredential> enables the setting of Windows client properties used when communicating with a service.</span></span> <span data-ttu-id="2ffd8-103">Объект <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> задает для службы предполагаемый уровень олицетворения, используемый при олицетворении клиента.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-103">The <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> sets the level of impersonation the service can assume when impersonating the client.</span></span> <span data-ttu-id="2ffd8-104">Объект <xref:System.ServiceModel.Security.WindowsClientCredential.ClientCredential%2A> позволяет клиенту проходить проверку подлинности, предоставляя службе имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-104">The <xref:System.ServiceModel.Security.WindowsClientCredential.ClientCredential%2A> enables a client to authenticate with username and password to the service.</span></span> <span data-ttu-id="2ffd8-105">Объект <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> определяет, можно ли использовать для проверки подлинности клиента NTLM, если протокол Kerberos не используется.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-105">The <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> determines whether NTLM can be used to authenticate the client if Kerberos is not used.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2ffd8-106">В следующем примере кода создается клиент и дается ссылка на объект <xref:System.ServiceModel.Security.WindowsClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-106">The following example creates a client and gets a reference to the <xref:System.ServiceModel.Security.WindowsClientCredential>.</span></span> <span data-ttu-id="2ffd8-107">Затем в коде значение <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> изменяется на новое.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-107">The code then changes the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> to a new value.</span></span>  
  
 [!code-csharp[WindowsClientCredential#1](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#1)]
 [!code-vb[WindowsClientCredential#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/windowsclientcredential/vb/source.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AllowedImpersonationLevel">
      <MemberSignature Language="C#" Value="public System.Security.Principal.TokenImpersonationLevel AllowedImpersonationLevel { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Security.Principal.TokenImpersonationLevel AllowedImpersonationLevel" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowedImpersonationLevel As TokenImpersonationLevel" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Security::Principal::TokenImpersonationLevel AllowedImpersonationLevel { System::Security::Principal::TokenImpersonationLevel get(); void set(System::Security::Principal::TokenImpersonationLevel value); };" />
      <MemberSignature Language="F#" Value="member this.AllowedImpersonationLevel : System.Security.Principal.TokenImpersonationLevel with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.1</AssemblyVersion>
        <AssemblyVersion>4.5.0.3</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Security.Principal.TokenImpersonationLevel</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2ffd8-108">Возвращает или задает допустимый уровень олицетворения.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-108">Gets or sets the allowed impersonation level.</span></span></summary>
        <value><span data-ttu-id="2ffd8-109">Одно из значений перечисления <see cref="T:System.Security.Principal.TokenImpersonationLevel" />.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-109">One of the <see cref="T:System.Security.Principal.TokenImpersonationLevel" /> values.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ffd8-110">В этом свойстве указывается уровень олицетворения, предоставляемый клиентом серверу при использовании проверки подлинности Windows SSPI.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-110">This property specifies the impersonation level granted by the client to the server when using Windows SSPI Negotiate authentication.</span></span> <span data-ttu-id="2ffd8-111">Обратите внимание, что уровень олицетворения, получаемый сервером при олицетворении маркера клиента, зависит не только от этого параметра.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-111">Note that the impersonation level obtained by the server when it impersonates the client token is not solely a function of this setting.</span></span> <span data-ttu-id="2ffd8-112">Этот уровень также зависит от привилегий и параметров домена для учетной записи, под которой запущена служба.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-112">It is also a function of the associated privileges and domain settings for the account in which the service is running.</span></span>  
  
 <span data-ttu-id="2ffd8-113">Клиент должен явным образом задать в этом свойстве допустимый уровень олицетворения.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-113">The client must explicitly set the allowed impersonation level using this property.</span></span>  
  
 <span data-ttu-id="2ffd8-114">Если клиент укажет анонимное олицетворение, он всегда будет проходить проверку подлинности как анонимный пользователь, даже если служба вообще не выполняет олицетворение.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-114">When the client specifies anonymous impersonation the client always authenticates to the service as anonymous even when no impersonation is performed on the service.</span></span> <span data-ttu-id="2ffd8-115">Это особенность операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-115">This is due to underlying Windows operating system behavior.</span></span>  
  
 <span data-ttu-id="2ffd8-116">Дополнительные сведения об олицетворении Windows см. в статье [олицетворение и возврат](https://go.microsoft.com/fwlink/?LinkId=96178).</span><span class="sxs-lookup"><span data-stu-id="2ffd8-116">For more information about Windows impersonation, go to [Impersonating and Reverting](https://go.microsoft.com/fwlink/?LinkId=96178).</span></span> <span data-ttu-id="2ffd8-117">Дополнительные сведения об олицетворении с помощью Windows Communication Foundation см. в разделе [Делегирование и олицетворение](~/docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="2ffd8-117">For more information about impersonation using Windows Communication Foundation, see [Delegation and Impersonation](~/docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2ffd8-118">В следующем примере показано, как задать данное свойство.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-118">The following example shows how to set this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#1](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#1)]
 [!code-vb[WindowsClientCredential#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/windowsclientcredential/vb/source.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AllowNtlm">
      <MemberSignature Language="C#" Value="public bool AllowNtlm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllowNtlm" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowNtlm As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AllowNtlm { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AllowNtlm : bool with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.AllowNtlm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Obsolete("This property is deprecated and is maintained for backward compatibility only. The local machine policy will be used to determine if NTLM should be used.")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2ffd8-119">Возвращает или задает значение, указывающее, следует ли разрешить использовать проверку подлинности NTLM в качестве проверки подлинности Windows SSPI.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-119">Gets or sets a value that indicates whether NTLM authentication should be allowed as Windows SSPI Negotiate authentication.</span></span></summary>
        <value><span data-ttu-id="2ffd8-120">Значение <see langword="true" />, если проверку подлинности NTLM разрешено использовать в качестве проверки подлинности Windows SSPI, в противном случае — значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-120"><see langword="true" /> if NTLM authentication should be allowed as Windows SSPI Negotiate authentication, <see langword="false" /> otherwise.</span></span> <span data-ttu-id="2ffd8-121">Значение по умолчанию — <see langword="true" />.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-121">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ffd8-122">Если установить для данного свойства значение `true`, то проверка подлинности может понижаться до NTLM в том случае, если проверка Kerberos недоступна.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-122">Setting this property to `true` allows authentication to downgrade to NTLM if Kerberos is not available.</span></span>  
  
 <span data-ttu-id="2ffd8-123">Если задать для `false` этого свойства значение Windows Communication Foundation (WCF), лучше будет создавать исключение, если используется NTLM.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-123">Setting this property to `false` causes Windows Communication Foundation (WCF) to make a best-effort to throw an exception if NTLM is used.</span></span> <span data-ttu-id="2ffd8-124">Обратите внимание, что установка для данного свойства значения `false` не предотвращает отправки учетных данных NTLM по сети.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-124">Note that setting this property to `false` may not prevent NTLM credentials from being sent over the wire.</span></span>  
  
 <span data-ttu-id="2ffd8-125">В определенных схемах развертывания, например при использовании рабочих групп и локальных учетных записей необходимо использовать проверку подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-125">Certain deployments such as workgroups and local accounts require NTLM authentication.</span></span> <span data-ttu-id="2ffd8-126">Установка этого флага `false` в в таких развертываниях приведет к сбоям проверки подлинности при использовании WCF.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-126">Setting this flag to `false` in such deployments result in authentication failures when using WCF.</span></span> <span data-ttu-id="2ffd8-127">Если в среде требуется взаимная проверка подлинности (поддерживается только протоколом Kerberos), присвойте этому флагу значение `false`.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-127">In a deployment that requires mutual authentication (only supported by Kerberos), set this flag to `false`.</span></span>  
  
 <span data-ttu-id="2ffd8-128">NTLM (Windows NT LAN Manager) — это протокол проверки подлинности, используемый в сетях, включающих системы под управлением операционной системы Windows NT и автономные системы.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-128">NTLM (Windows NT LAN Manager) is the authentication protocol used on networks that include systems running the Windows NT operating system, and on stand-alone systems.</span></span>  
  
 <span data-ttu-id="2ffd8-129">Пакет безопасности Microsoft Kerberos обеспечивает более эффективную защиту подключенных к сети компьютеров, чем NTLM.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-129">The Microsoft Kerberos security package adds greater security than NTLM to systems on a network.</span></span> <span data-ttu-id="2ffd8-130">Несмотря на то, что Microsoft Kerberos является выбранным протоколом, NTLM по-прежнему поддерживается и должен использоваться для проверки подлинности сети, если сеть включает в себя системы под управлением Windows NT 4,0 и более ранних версий, а также в автономных системах.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-130">Although Microsoft Kerberos is the protocol of choice, NTLM is still supported and must be used for network authentication if the network includes systems running versions of Windows NT 4.0 and earlier, and on stand-alone systems.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ClientCredential">
      <MemberSignature Language="C#" Value="public System.Net.NetworkCredential ClientCredential { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.NetworkCredential ClientCredential" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.ClientCredential" />
      <MemberSignature Language="VB.NET" Value="Public Property ClientCredential As NetworkCredential" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::NetworkCredential ^ ClientCredential { System::Net::NetworkCredential ^ get(); void set(System::Net::NetworkCredential ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ClientCredential : System.Net.NetworkCredential with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.ClientCredential" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.5.0.1</AssemblyVersion>
        <AssemblyVersion>4.5.0.3</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.NetworkCredential</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="2ffd8-131">Возвращает или задает учетные данные клиента Windows.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-131">Gets or sets the Windows client credential.</span></span></summary>
        <value><span data-ttu-id="2ffd8-132">Объект <see cref="T:System.Net.NetworkCredential" /> для клиента.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-132">The <see cref="T:System.Net.NetworkCredential" /> for the client.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ffd8-133">По умолчанию учетные данные текущего потока используются WCF для проверки подлинности Windows SSPI Negotiate.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-133">By default, the current thread's credentials are used by WCF for doing Windows SSPI Negotiate authentication.</span></span>  
  
 <span data-ttu-id="2ffd8-134">Чтобы провести проверку подлинности клиента как другого участника, измените свойства экземпляра класса <xref:System.Net.NetworkCredential>, возвращаемого данным свойством.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-134">To authenticate the client as another principal, change the properties of the instance of the <xref:System.Net.NetworkCredential> class that is returned by this property.</span></span> <span data-ttu-id="2ffd8-135">Кроме того, можно создать новый экземпляр класса <xref:System.Net.NetworkCredential> и присвоить его этому свойству.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-135">Alternatively, create a new instance of the <xref:System.Net.NetworkCredential> class and assign it to this property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="2ffd8-136">В следующем примере кода показано, как выполнить проверку подлинности клиента как другого участника.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-136">The following code examples show how to authenticate the client as a different principal.</span></span>  
  
 <span data-ttu-id="2ffd8-137">Здесь показано, как изменить свойства экземпляра класса <xref:System.Net.NetworkCredential>, возвращаемого этим свойством.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-137">This is how to change the properties of the instance of the <xref:System.Net.NetworkCredential> class that is returned by this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#2](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#2)]  
  
 <span data-ttu-id="2ffd8-138">В следующем примере показано, как создать новый экземпляр класса <xref:System.Net.NetworkCredential> и присвоить его этому свойству.</span><span class="sxs-lookup"><span data-stu-id="2ffd8-138">This is how to create a new instance of the <xref:System.Net.NetworkCredential> class and assign it to this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#3](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
